{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/ad/release.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/ad/release.vue","mtime":1658390678973},{"path":"/Users/tql_yy/Documents/code/use_one/babel.config.js","mtime":1657511087035},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEN1cnJlbmN5T3B0aW9uIGZyb20gIkAvY29tcG9uZW50cy9jdXJyZW5jeSI7CmltcG9ydCBDdXJyZW5jeU9wdGlvblR3byBmcm9tICJAL2NvbXBvbmVudHMvY3VycmVuY3kvZmlhdCI7CmltcG9ydCB7IENvaW5QcmljZSwgRmFpdFJhdGUsIFJlbGVhc2VBZHYgfSBmcm9tICIuLi8uLi9hcGkvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEN1cnJlbmN5T3B0aW9uLAogICAgQ3VycmVuY3lPcHRpb25Ud28sCiAgICBQYXlTZWxlY3Q6IHJlc29sdmUgPT4gcmVxdWlyZShbIi4uLy4uL2NvbXBvbmVudHMvcGF5LXdheS9wYXktY2hvb3NlIl0sIHJlc29sdmUpCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2w6IHsKICAgICAgICBDdXJyZW5jeU9wdGlvbjogZmFsc2UsCiAgICAgICAgQ3VycmVuY3lPcHRpb25Ud286IGZhbHNlLAogICAgICAgIHNlbGVjdFBheTogZmFsc2UKICAgICAgfSwKICAgICAgY29pblByaWNlOiAiLSIsCiAgICAgIC8v5rOV5biB5Lu35qC8CiAgICAgIGxvZ286ICIiLAogICAgICBmb3JtOiB7CiAgICAgICAgdHlwZTogMiwKICAgICAgICBjb2luOiAiIiwKICAgICAgICBjdXJyZW5jeTogIiIsCiAgICAgICAgYW1vdW50OiAiIiwKICAgICAgICAvL+i0reS5sOaVsOmHjwogICAgICAgIHByaWNlX3R5cGU6IDEsCiAgICAgICAgcHJpY2U6ICIiLAogICAgICAgIC8v6LSt5Lmw5Lu35qC8CiAgICAgICAgbWluX2N1cnJlbmN5OiAiIiwKICAgICAgICAvL+acgOWwj+mZkOminQogICAgICAgIG1heF9jdXJyZW5jeTogIiIsCiAgICAgICAgLy/mnIDlpKfpmZDpop0KICAgICAgICBwYXltZW50czogIiIsCiAgICAgICAgY29tbWVudDogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5rS75Yqo5ZCN56ewIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1heDogNSwKICAgICAgICAgIG1lc3NhZ2U6ICLplb/luqblnKggMyDliLAgNSDkuKrlrZfnrKYiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiBuZXcgUmVnRXhwKCkucGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBjb2luc1ByaWNlOiBbXSwKICAgICAgLy/luIHnp43ooYzmg4Xku7fmoLwKICAgICAgcGF5V2F5OiBudWxsLAogICAgICAvL+aUr+S7mOaWueW8jwogICAgICBwYXlXYXlJRDogbnVsbCwKICAgICAgLy/mlK/ku5hJRAogICAgICBtYXhQcmljZTogbnVsbCwKICAgICAgLy/ljZXku7fmnIDkvY7pmZDpop0KICAgICAgbWluUHJpY2U6IG51bGwsCiAgICAgIC8v5Y2V5Lu35pyA6auY5Lu35qC8CiAgICAgIG1pbkFkdk51bWJlcjogMSwKICAgICAgLy/mnIDlsI/pmZDpop0KICAgICAgY29pblJvdzoge30KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGFkdl9zaWNrKCkgewogICAgICByZXR1cm4gdGhpcy5jb2luUHJpY2UgIT0gIi0iID8gdGhpcy5taW5QcmljZS50b0ZpeGVkKDQpICsgIi0iICsgdGhpcy5tYXhQcmljZS50b0ZpeGVkKDQpIDogIui+k+WFpeS6pOaYk+S7t+agvCI7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7Ly8gdGhpcy5nZXRDb2luc1ByaWNlKCk7CiAgfSwKCiAgbW91bnRlZCgpIHt9LAoKICBtZXRob2RzOiB7CiAgICB0YWJzKHYpIHsKICAgICAgdGhpcy5mb3JtLnR5cGUgPSB2OwogICAgfSwKCiAgICBzZWxlY3RDYXJkKF9jYXJkKSB7CiAgICAgIHRoaXMucGF5V2F5ID0gX2NhcmQubmFtZTsKICAgICAgdGhpcy5wYXlXYXlJRCA9IF9jYXJkLmlkOwogICAgfSwKCiAgICBvbkN1cnJlbmN5KHJvdykgewogICAgICB0aGlzLmNvaW5Sb3cgPSByb3c7CiAgICAgIHRoaXMubWluQWR2TnVtYmVyID0gcm93LmFkdl9taW47CiAgICAgIHRoaXMuZm9ybS5jb2luID0gcm93LmNvaW47CiAgICAgIHRoaXMubG9nbyA9IHJvdy5sb2dvOwogICAgICB0aGlzLmdldENvaW5zUHJpY2UoKTsKICAgIH0sCgogICAgb25DdXJyZW5jeVR3byhyb3cpIHsKICAgICAgdGhpcy5mb3JtLmN1cnJlbmN5ID0gcm93LmNvaW47CiAgICAgIHRoaXMuZ2V0Q29pbnNQcmljZSgpOwogICAgfSwKCiAgICAvL+iOt+WPluW4geenjeihjOaDhQogICAgYXN5bmMgZ2V0Q29pbnNQcmljZSgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm0uY29pbiB8fCAhdGhpcy5mb3JtLmN1cnJlbmN5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBjdXIgPSBhd2FpdCBGYWl0UmF0ZSh0aGlzLmZvcm0uY3VycmVuY3kpOwogICAgICBsZXQgdVByaWNlOwoKICAgICAgaWYgKHRoaXMuZm9ybS5jb2luID09ICJVU0RUIikgewogICAgICAgIGNvbnN0IHUgPSBhd2FpdCBGYWl0UmF0ZSgiVVNEIik7CiAgICAgICAgdVByaWNlID0gdS5kYXRhLnByaWNlOwogICAgICB9CgogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb2luUHJpY2UoKTsKICAgICAgdGhpcy5jb2luUHJpY2UgPSBjdXIuZGF0YS5wcmljZSAqICh0aGlzLmZvcm0uY29pbiA9PSAiVVNEVCIgPyBOdW1iZXIodVByaWNlKS50b0ZpeGVkKDQpIDogTnVtYmVyKE9iamVjdChyZXN1bHQuZGF0YS5saXN0KVt0aGlzLmZvcm0uY29pbl0ucHJpY2UpLnRvRml4ZWQoNCkpOwogICAgICB0aGlzLm1heFByaWNlID0gdGhpcy5jb2luUHJpY2UgKiAodGhpcy5jb2luUm93LmFkdl9wcmljZV9tYXhfcGVyY2VudCAvIDEwMCkgKyB0aGlzLmNvaW5QcmljZTsKICAgICAgdGhpcy5taW5QcmljZSA9IHRoaXMuY29pblByaWNlICogKHRoaXMuY29pblJvdy5hZHZfcHJpY2VfbWluX3BlcmNlbnQgLyAxMDApICsgdGhpcy5jb2luUHJpY2U7CiAgICB9LAoKICAgIC8v5Y+R5biD5bm/5ZGKCiAgICBhc3luYyBvblN1Ym1pdCgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm0uYW1vdW50KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuivt+i+k+WFpei0reS5sOaVsOmHjyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmZvcm0ucHJpY2UpIHsKICAgICAgICB0aGlzLiR0b2FzdCgi6K+36L6T5YWl5Lqk5piT5Lu35qC8Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5mb3JtLnByaWNlIDwgdGhpcy5taW5QcmljZSB8fCB0aGlzLmZvcm0ucHJpY2UgPiB0aGlzLm1heFByaWNlKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoYOivt+iuvue9riR7dGhpcy5taW5QcmljZX0tJHt0aGlzLm1heFByaWNlfeWMuumXtOeahOS7t+agvGApOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmZvcm0ubWluX2N1cnJlbmN5KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuivt+i+k+WFpeacgOWwj+mZkOminSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZm9ybS5taW5fY3VycmVuY3kgPCB0aGlzLm1pbkFkdk51bWJlcikgewogICAgICAgIHRoaXMuJHRvYXN0KGDor6XluIHnp43mnIDlsI/ljZXnrJTpmZDpop3kuLoke3RoaXMubWluQWR2TnVtYmVyfWApOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmZvcm0ubWF4X2N1cnJlbmN5KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuivt+i+k+WFpeacgOWkp+mZkOminSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnBheVdheUlEKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuivt+mAieaLqeS7mOasvuaWueW8jyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHR5cGU6IHRoaXMuZm9ybS50eXBlLAogICAgICAgIGNvaW46IHRoaXMuZm9ybS5jb2luLAogICAgICAgIGN1cnJlbmN5OiB0aGlzLmZvcm0uY3VycmVuY3ksCiAgICAgICAgYW1vdW50OiB0aGlzLmZvcm0uYW1vdW50LAogICAgICAgIHByaWNlX3R5cGU6IDEsCiAgICAgICAgcHJpY2U6IHRoaXMuZm9ybS5wcmljZSwKICAgICAgICBtaW5fY3VycmVuY3k6IHRoaXMuZm9ybS5taW5fY3VycmVuY3ksCiAgICAgICAgbWF4X2N1cnJlbmN5OiB0aGlzLmZvcm0ubWF4X2N1cnJlbmN5LAogICAgICAgIHBheW1lbnRzOiBTdHJpbmcodGhpcy5wYXlXYXlJRCksCiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50CiAgICAgIH07CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlbGVhc2VBZHYocGFyYW1zKTsKICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgY29uc3QgewogICAgICAgIGNvZGUKICAgICAgfSA9IHJlc3VsdDsKCiAgICAgIGlmIChjb2RlICE9IDIwMCkgewogICAgICAgIHRoaXMuJHRvYXN0KHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA2LA;AACA;AACA;AAEA;EACAA;IACAC,cADA;IAEAC,iBAFA;IAGAC,sBACAC;EAJA,CADA;;EAOAC;IACA;MACAC;QACAL,qBADA;QAEAC,wBAFA;QAGAK;MAHA,CADA;MAMAC,cANA;MAMA;MACAC,QAPA;MAQAC;QACAC,OADA;QAEAC,QAFA;QAGAC,YAHA;QAIAC,UAJA;QAIA;QACAC,aALA;QAMAC,SANA;QAMA;QACAC,gBAPA;QAOA;QACAC,gBARA;QAQA;QACAC,YATA;QAUAC;MAVA,CARA;MAoBAC;QACAC,OACA;UAAAC;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,CAFA,EAGA;UAAAG;UAAAH;QAAA,CAHA;MADA,CApBA;MA2BAI,cA3BA;MA2BA;MACAC,YA5BA;MA4BA;MACAC,cA7BA;MA6BA;MACAC,cA9BA;MA8BA;MACAC,cA/BA;MA+BA;MACAC,eAhCA;MAgCA;MACAC;IAjCA;EAmCA,CA3CA;;EA4CAC;IACAC;MACA,+BACA,yDADA,GAEA,QAFA;IAGA;;EALA,CA5CA;;EAmDAC,WACA;EACA,CArDA;;EAsDAC,YAtDA;;EAuDAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;IACA,CAPA;;IAQAC;MACA;MACA;MACA;MACA;MACA;IACA,CAdA;;IAeAC;MACA;MACA;IACA,CAlBA;;IAmBA;IACA;MACA;QACA;MACA;;MACA;MACA;;MACA;QACA;QACAC;MACA;;MACA;MACA,iBACAC,kBACA,2BACAC,yBADA,GAEAA,iEAHA,CADA;MAKA,gBACA,8DACA,cAFA;MAGA,gBACA,8DACA,cAFA;IAGA,CA1CA;;IA2CA;IACA;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACApC,oBADA;QAEAC,oBAFA;QAGAC,4BAHA;QAIAC,wBAJA;QAKAC,aALA;QAMAC,sBANA;QAOAC,oCAPA;QAQAC,oCARA;QASAC,+BATA;QAUAC;MAVA;MAYA;MACA4B;MACA;QAAAC;MAAA;;MACA;QACA;QACA;MACA;;MACA;IACA;;EA7FA;AAvDA","names":["components","CurrencyOption","CurrencyOptionTwo","PaySelect","require","data","bool","selectPay","coinPrice","logo","form","type","coin","currency","amount","price_type","price","min_currency","max_currency","payments","comment","rules","name","required","message","trigger","min","max","validator","coinsPrice","payWay","payWayID","maxPrice","minPrice","minAdvNumber","coinRow","computed","adv_sick","created","mounted","methods","tabs","selectCard","onCurrency","onCurrencyTwo","uPrice","cur","Number","console","code"],"sourceRoot":"src/views/ad","sources":["release.vue"],"sourcesContent":["<!--\n * @Name: 发布广告\n * @Date: 2022-07-01 14:09:15\n * @LastEditors: VSCode\n * @LastEditTime: 2022-07-07 09:46:19\n-->\n<template>\n  <P-main>\n    <Navigation>\n      <template #title>\n        <div class=\"nav-title\">\n          <div\n            class=\"buy\"\n            :class=\"[form.type == 2 ? 'active' : '']\"\n            @click=\"tabs(2)\"\n          >\n            购买\n          </div>\n          <div\n            class=\"sell\"\n            :class=\"[form.type == 1 ? 'active' : '']\"\n            @click=\"tabs(1)\"\n          >\n            出售\n          </div>\n        </div>\n      </template>\n    </Navigation>\n    <P-body type=\"Fei\">\n      <el-form\n        :model=\"form\"\n        ref=\"form\"\n        :rules=\"rules\"\n        label-width=\"130px\"\n        class=\"main\"\n        label-position=\"left\"\n      >\n        <van-cell-group :border=\"false\" inset>\n          <van-cell is-link @click=\"bool.CurrencyOption = true\">\n            <template #icon>\n              <van-image\n                width=\"26\"\n                height=\"26\"\n                :src=\"logo\"\n                v-if=\"logo\"\n                round\n                lazy-load\n                class=\"m-5-r\"\n              />\n            </template>\n            <template #title>\n              {{ form.coin == \"\" ? \"请选择币种类型\" : form.coin }}\n            </template>\n          </van-cell>\n        </van-cell-group>\n\n        <van-cell-group inset class=\"m-12-t-i\">\n          <van-field\n            @click=\"bool.CurrencyOptionTwo = true\"\n            v-model=\"form.currency\"\n            label=\"法币类型\"\n            label-width=\"60px\"\n            is-link\n            placeholder=\"显示清除图标\"\n            :border=\"false\"\n          >\n            <template #input>{{ form.currency }}</template>\n          </van-field>\n          <van-field\n            v-model=\"form.amount\"\n            :label=\"`${form.type == 2 ? '购买' : '出售'}数量`\"\n            label-width=\"60px\"\n            :placeholder=\"`请输入${form.type == 2 ? '购买' : '出售'}数量`\"\n            :border=\"false\"\n          >\n            <template #extra>{{ form.coin }}</template>\n          </van-field>\n          <van-field\n            label=\"固定价格\"\n            label-width=\"60px\"\n            placeholder=\"固定价格\"\n            :border=\"false\"\n          >\n            <template #input>固定价格</template>\n          </van-field>\n          <van-field\n            v-model=\"form.price\"\n            label=\"单价\"\n            label-width=\"60px\"\n            :placeholder=\"adv_sick\"\n            :border=\"false\"\n          >\n            <template #extra>{{ form.currency }}</template>\n          </van-field>\n          <van-cell>\n            <template #title>\n              <div class=\"ui-flex-left\">\n                <div class=\"m-5-r\">\n                  当前参考价格：{{\n                    coinPrice != \"-\" ? Number(coinPrice).toFixed(4) : coinPrice\n                  }}\n                  {{ form.currency }}\n                </div>\n                <B-svg name=\"shuaxin-2\" width=\"12px\" @click=\"getCoinsPrice\" />\n              </div>\n            </template>\n          </van-cell>\n        </van-cell-group>\n\n        <van-cell-group inset class=\"m-12-t-i p-10-tb\">\n          <div class=\"p-16-lr\">\n            <div class=\"ui-flex-left\">\n              <div class=\"m-5-r size-12\">单笔限额</div>\n              <B-svg name=\"wenhao\" class=\"wenhao\" width=\"12px\" />\n            </div>\n          </div>\n          <div class=\"ui-flex-center m-8-t p-16-lr\">\n            <div>\n              <van-field\n                class=\"input\"\n                v-model=\"form.min_currency\"\n                label-width=\"60px\"\n                :placeholder=\"'最小' + minAdvNumber\"\n                :border=\"false\"\n              >\n                <template #extra>{{ form.currency }}</template>\n              </van-field>\n            </div>\n            <div class=\"m-10-lr size-12\">~</div>\n            <div>\n              <van-field\n                class=\"input\"\n                v-model=\"form.max_currency\"\n                label-width=\"60px\"\n                placeholder=\"最大\"\n                :border=\"false\"\n              >\n                <template #extra>{{ form.currency }}</template>\n              </van-field>\n            </div>\n          </div>\n        </van-cell-group>\n\n        <van-cell-group :border=\"false\" inset class=\"m-12-t-i\">\n          <van-cell title=\"付款方式\" is-link @click=\"bool.selectPay = true\">\n            {{ payWay ? payWay : \"至少添加一种方式\" }}\n          </van-cell>\n        </van-cell-group>\n\n        <van-cell-group inset class=\"m-12-t-i\">\n          <van-field\n            v-model=\"form.comment\"\n            rows=\"2\"\n            autosize\n            type=\"textarea\"\n            maxlength=\"50\"\n            placeholder=\"可输入50字以内的备注信息（选填）\"\n          />\n        </van-cell-group>\n\n        <ul class=\"ui-list-dian\">\n          <li>每个币种只能同时发布上架一个出售和购买广告</li>\n          <li>广告发布后，如您重新编辑以下内容，首页会重新排序</li>\n          <li>每个广告有效时间为7天,到期未完成将自动下架</li>\n          <li>\n            广告每成交一笔，需支付广告费率。出售资产时，将从您的法币账户对应的币种资产中额外扣除。买入资产时将从您购买的资产中扣除。\n          </li>\n        </ul>\n      </el-form>\n      <div class=\"h-56\"></div>\n    </P-body>\n    <div class=\"footer\">\n      <P-button type=\"primary\" class=\"btn-primary h-44-i\" @click=\"onSubmit\"\n        >发布广告</P-button\n      >\n    </div>\n    <Currency-Option v-model=\"bool.CurrencyOption\" @click=\"onCurrency\" />\n    <Currency-Option-Two\n      v-model=\"bool.CurrencyOptionTwo\"\n      @click=\"onCurrencyTwo\"\n    />\n    <!-- 付款选择 -->\n    <PaySelect v-model=\"bool.selectPay\" @click=\"selectCard\" />\n  </P-main>\n</template>\n\n<script>\nimport CurrencyOption from \"@/components/currency\";\nimport CurrencyOptionTwo from \"@/components/currency/fiat\";\nimport { CoinPrice, FaitRate, ReleaseAdv } from \"../../api/api\";\n\nexport default {\n  components: {\n    CurrencyOption,\n    CurrencyOptionTwo,\n    PaySelect: (resolve) =>\n      require([\"../../components/pay-way/pay-choose\"], resolve),\n  },\n  data() {\n    return {\n      bool: {\n        CurrencyOption: false,\n        CurrencyOptionTwo: false,\n        selectPay: false,\n      },\n      coinPrice: \"-\", //法币价格\n      logo: \"\",\n      form: {\n        type: 2,\n        coin: \"\",\n        currency: \"\",\n        amount: \"\", //购买数量\n        price_type: 1,\n        price: \"\", //购买价格\n        min_currency: \"\", //最小限额\n        max_currency: \"\", //最大限额\n        payments: \"\",\n        comment: \"\",\n      },\n      rules: {\n        name: [\n          { required: true, message: \"请输入活动名称\", trigger: \"blur\" },\n          { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\n          { validator: new RegExp().password, trigger: \"blur\" },\n        ],\n      },\n      coinsPrice: [], //币种行情价格\n      payWay: null, //支付方式\n      payWayID: null, //支付ID\n      maxPrice: null, //单价最低限额\n      minPrice: null, //单价最高价格\n      minAdvNumber: 1, //最小限额\n      coinRow: {},\n    };\n  },\n  computed: {\n    adv_sick() {\n      return this.coinPrice != \"-\"\n        ? this.minPrice.toFixed(4) + \"-\" + this.maxPrice.toFixed(4)\n        : \"输入交易价格\";\n    },\n  },\n  created() {\n    // this.getCoinsPrice();\n  },\n  mounted() {},\n  methods: {\n    tabs(v) {\n      this.form.type = v;\n    },\n    selectCard(_card) {\n      this.payWay = _card.name;\n      this.payWayID = _card.id;\n    },\n    onCurrency(row) {\n      this.coinRow = row;\n      this.minAdvNumber = row.adv_min;\n      this.form.coin = row.coin;\n      this.logo = row.logo;\n      this.getCoinsPrice();\n    },\n    onCurrencyTwo(row) {\n      this.form.currency = row.coin;\n      this.getCoinsPrice();\n    },\n    //获取币种行情\n    async getCoinsPrice() {\n      if (!this.form.coin || !this.form.currency) {\n        return;\n      }\n      const cur = await FaitRate(this.form.currency);\n      let uPrice;\n      if (this.form.coin == \"USDT\") {\n        const u = await FaitRate(\"USD\");\n        uPrice = u.data.price;\n      }\n      const result = await CoinPrice();\n      this.coinPrice =\n        cur.data.price *\n        (this.form.coin == \"USDT\"\n          ? Number(uPrice).toFixed(4)\n          : Number(Object(result.data.list)[this.form.coin].price).toFixed(4));\n      this.maxPrice =\n        this.coinPrice * (this.coinRow.adv_price_max_percent / 100) +\n        this.coinPrice;\n      this.minPrice =\n        this.coinPrice * (this.coinRow.adv_price_min_percent / 100) +\n        this.coinPrice;\n    },\n    //发布广告\n    async onSubmit() {\n      if (!this.form.amount) {\n        this.$toast(\"请输入购买数量\");\n        return;\n      }\n      if (!this.form.price) {\n        this.$toast(\"请输入交易价格\");\n        return;\n      }\n      if (this.form.price < this.minPrice || this.form.price > this.maxPrice) {\n        this.$toast(`请设置${this.minPrice}-${this.maxPrice}区间的价格`);\n        return;\n      }\n      if (!this.form.min_currency) {\n        this.$toast(\"请输入最小限额\");\n        return;\n      }\n      if (this.form.min_currency < this.minAdvNumber) {\n        this.$toast(`该币种最小单笔限额为${this.minAdvNumber}`);\n        return;\n      }\n      if (!this.form.max_currency) {\n        this.$toast(\"请输入最大限额\");\n        return;\n      }\n      if (!this.payWayID) {\n        this.$toast(\"请选择付款方式\");\n        return;\n      }\n      const params = {\n        type: this.form.type,\n        coin: this.form.coin,\n        currency: this.form.currency,\n        amount: this.form.amount,\n        price_type: 1,\n        price: this.form.price,\n        min_currency: this.form.min_currency,\n        max_currency: this.form.max_currency,\n        payments: String(this.payWayID),\n        comment: this.comment,\n      };\n      const result = await ReleaseAdv(params);\n      console.log(result);\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$router.go(-1);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.nav-title {\n  display: flex;\n  .buy,\n  .sell {\n    width: 91px;\n    height: 30px;\n    line-height: 30px;\n    background-size: cover;\n    font-size: 16px;\n    font-weight: 400;\n    color: #666666;\n  }\n\n  .buy {\n    margin-left: 7px;\n    background-image: url(\"~@/assets/tabs-a1.png\");\n    &.active {\n      color: #ffffff;\n      background-image: url(\"~@/assets/tabs-a.png\");\n    }\n  }\n  .sell {\n    margin-left: -7px;\n    background-image: url(\"~@/assets/tabs-b.png\");\n    &.active {\n      color: #ffffff;\n      background-image: url(\"~@/assets/tabs-b1.png\");\n    }\n  }\n}\n\n.body {\n  .USDT {\n    width: 19px;\n    height: 19px;\n    margin-right: 5px;\n    margin-top: 1px;\n  }\n\n  .wenhao {\n    margin-top: -1px;\n  }\n\n  .input {\n    border-radius: 4px;\n    border: 1px solid #e6e6e6;\n    padding: 7px 10px;\n    color: #999999;\n  }\n\n  .ui-list-dian {\n    margin-top: 12px;\n    padding: 12px;\n    background: #e6e6e6;\n    border-radius: 4px;\n    li {\n      margin-bottom: 3px;\n      font-size: 12px;\n      font-weight: 400;\n      color: #999999;\n    }\n  }\n}\n\n.footer {\n  position: fixed;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  display: flex;\n  background: #fff;\n  padding: 6px 12px;\n}\n</style>"]}]}