{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/ad/AdvertisingForDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/ad/AdvertisingForDetails.vue","mtime":1658713050071},{"path":"/Users/tql_yy/Documents/code/use_one/babel.config.js","mtime":1657511087035},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQWR2RGV0YWlsLCBUeXBlcywgVXBBZHZTdGF0dXMgfSBmcm9tICIuLi8uLi9hcGkvYXBpIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29sOiB7CiAgICAgICAgY2xvc2VUaGVBZDogZmFsc2UKICAgICAgfSwKICAgICAgc3dpdGNoYTogMCwKICAgICAgbmFtZTogInZ1ZSIsCiAgICAgIHZhbDogIiIsCiAgICAgIGRldGFpbE1zZzoge30gLy/or6bmg4Xkv6Hmga8KCiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgdGhpcy52YWwgPSB2OwogICAgICB9CiAgICB9LAoKICAgIHZhbCh2KSB7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0Iiwgdik7CiAgICB9CgogIH0sCiAgY29tcHV0ZWQ6IHsgLi4ubWFwU3RhdGUoWydjdXJyZW50J10pLAoKICAgIGFkdklEKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50LmFkdklEOwogICAgfSwKCiAgICBsaXN0KCkgewogICAgICBjb25zdCBtc2cgPSB0aGlzLmRldGFpbE1zZzsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdGl0bGU6ICLmgLvph5Hpop0iLAogICAgICAgIHZhbHVlOiBOdW1iZXIobXNnLm1heF9jdXJyZW5jeSkudG9GaXhlZCg0KSwKICAgICAgICBib3JkZXI6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuS7t+agvOexu+WeiyIsCiAgICAgICAgdmFsdWU6IG1zZy5wcmljZV90eXBlID09IDEgPyAi5Zu65a6a5Lu35qC8IiA6ICLmta7liqjku7fmoLwiLAogICAgICAgIGJvcmRlcjogZmFsc2UKICAgICAgfSwgLy8geyB0aXRsZTogIuS7t+agvOa6ouS7tyIsIHZhbHVlOiAiMTAlIiwgYm9yZGVyOiBmYWxzZSB9LAogICAgICB7CiAgICAgICAgdGl0bGU6ICLlp5TmiZjmlbDph48iLAogICAgICAgIHZhbHVlOiBtc2cuYW1vdW50LAogICAgICAgIGV4dHJhOiBtc2cuY29pbiwKICAgICAgICBib3JkZXI6IGZhbHNlLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAibWFyZ2luLXRvcCI6ICIyMHB4IgogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5Ymp5L2Z5pWw6YePIiwKICAgICAgICB2YWx1ZTogbXNnLmFtb3VudF9zdG9jaywKICAgICAgICBleHRyYTogbXNnLmNvaW4sCiAgICAgICAgYm9yZGVyOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLljZXnrJTpmZDpop0iLAogICAgICAgIHZhbHVlOiBOdW1iZXIobXNnLm1pbl9jdXJyZW5jeSkudG9GaXhlZCgyKSArICItIiArIE51bWJlcihtc2cubWF4X2N1cnJlbmN5KS50b0ZpeGVkKDIpLAogICAgICAgIGV4dHJhOiBtc2cuY3VycmVuY3ksCiAgICAgICAgYm9yZGVyOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmlLbmrL7mlrnlvI8iLAogICAgICAgIGJvcmRlcjogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5Y+R5biD5pe26Ze0IiwKICAgICAgICB2YWx1ZTogbXNnLnRpbWUsCiAgICAgICAgZXh0cmE6ICIiLAogICAgICAgIGJvcmRlcjogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi6K6i5Y2V6K6w5b2VIiwKICAgICAgICB2YWx1ZTogbXNnLm9yZGVyc19jb3VudCwKICAgICAgICBpc2xpbms6IHRydWUsCiAgICAgICAgYm9yZGVyOiBmYWxzZSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgIm1hcmdpbi10b3AiOiAiMjBweCIKICAgICAgICB9CiAgICAgIH1dOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBZHZEZXRhaWwoKTsKICB9LAoKICBtb3VudGVkKCkge30sCgogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W5bm/5ZGK6K+m5oOFCiAgICBhc3luYyBnZXRBZHZEZXRhaWwoKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFkdkRldGFpbCh0aGlzLmFkdklEKTsKICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgdGhpcy5kZXRhaWxNc2cgPSByZXN1bHQuZGF0YTsKICAgICAgdGhpcy5zd2l0Y2hhID0gdGhpcy5kZXRhaWxNc2cuc3RhdHVzID09IDEgPyAxIDogMDsKICAgICAgY29uc3QgdHlwZXMgPSBhd2FpdCBUeXBlcyh7CiAgICAgICAgc2NlbmU6ICJBZHNTdGF0dXMiCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyh0eXBlcyk7CiAgICAgIHR5cGVzLmRhdGEubWFwLmZvckVhY2goZSA9PiB7CiAgICAgICAgaWYgKHRoaXMuZGV0YWlsTXNnLnN0YXR1cyA9PSBlLnZhbCkgewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZGV0YWlsTXNnLCAic3RhdHVzX3RleHQiLCBlLm5hbWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHNodXREb3duKCkgewogICAgICB0aGlzLmJvb2wuY2xvc2VUaGVBZCA9IHRydWU7CiAgICB9LAoKICAgIC8v5YWz6Zet5bm/5ZGKCiAgICBhc3luYyBjbG9zZUFkdigpIHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXBBZHZTdGF0dXMoewogICAgICAgIGlkOiB0aGlzLmRldGFpbE1zZy5pZCwKICAgICAgICBzdGF0dXM6IDMKICAgICAgfSk7CiAgICAgIGNvbnN0IHsKICAgICAgICBjb2RlCiAgICAgIH0gPSByZXN1bHQ7CgogICAgICBpZiAoY29kZSAhPSAyMDApIHsKICAgICAgICB0aGlzLiR0b2FzdChyZXN1bHQubWVzc2FnZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiR0b2FzdCgi5YWz6Zet5oiQ5YqfIik7CiAgICAgIHRoaXMuZ2V0QWR2RGV0YWlsKCk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA8HA;AACA;AACA;EACAA;IACA;MACAC;QACAC;MADA,CADA;MAIAC,UAJA;MAKAC,WALA;MAMAC,OANA;MAOAC,aAPA,CAOA;;IAPA;EASA,CAXA;;EAYAC;IACAC;MACAC,UADA;MAEAC,eAFA;MAGAC;QACA;MACA;IALA,CADA;;IAQAN;MACA;IACA;;EAVA,CAZA;EAwBAO,YACA,wBADA;;IAEAC;MACA;IACA,CAJA;;IAKAC;MACA;MACA,QACA;QACAC,YADA;QAEAP,0CAFA;QAGAQ;MAHA,CADA,EAMA;QACAD,aADA;QAEAP,4CAFA;QAGAQ;MAHA,CANA,EAWA;MACA;QACAD,aADA;QAEAP,iBAFA;QAGAS,eAHA;QAIAD,aAJA;QAKAE;UAAA;QAAA;MALA,CAZA,EAmBA;QACAH,aADA;QAEAP,uBAFA;QAGAS,eAHA;QAIAD;MAJA,CAnBA,EAyBA;QACAD,aADA;QAEAP,OACAW,sCACA,GADA,GAEAA,mCALA;QAMAF,mBANA;QAOAD;MAPA,CAzBA,EAkCA;QAAAD;QAAAC;MAAA,CAlCA,EAmCA;QACAD,aADA;QAEAP,eAFA;QAGAS,SAHA;QAIAD;MAJA,CAnCA,EAyCA;QACAD,aADA;QAEAP,uBAFA;QAGAY,YAHA;QAIAJ,aAJA;QAKAE;UAAA;QAAA;MALA,CAzCA;IAiDA;;EAxDA,CAxBA;;EAkFAG;IACA;EACA,CApFA;;EAqFAC,YArFA;;EAsFAC;IACA;IACA;MACA;MACAC;MACA;MACA;MACA;QAAAC;MAAA;MACAD;MACAE;QACA;UACA;QACA;MACA,CAJA;IAKA,CAdA;;IAeAC;MACA;IACA,CAjBA;;IAkBA;IACA;MACA;QAAAC;QAAAC;MAAA;MACA;QAAAC;MAAA;;MACA;QACA;QACA;MACA;;MACA;MACA;IACA;;EA5BA;AAtFA","names":["data","bool","closeTheAd","switcha","name","val","detailMsg","watch","value","deep","immediate","handler","computed","advID","list","title","border","extra","style","Number","islink","created","mounted","methods","console","scene","types","shutDown","id","status","code"],"sourceRoot":"src/views/ad","sources":["AdvertisingForDetails.vue"],"sourcesContent":["<!--\n * @Name: 广告详情\n * @Date: 2022-06-30 17:02:37\n * @LastEditors: VSCode\n * @LastEditTime: 2022-07-07 17:53:19\n-->\n<template>\n  <P-main>\n    <Navigation title=\"广告详情\" :editor-switch=\"true\" />\n    <div class=\"head ui-flex-lh\">\n      <div class=\"ui-flex-center\">\n        <div class=\"ui-flex-row\">\n          <div class=\"h4\">{{ detailMsg.adv_type == 2 ? \"购买\" : \"出售\" }}</div>\n          <div class=\"size-18\">\n            <mt-spinner\n              v-if=\"!detailMsg.coin\"\n              type=\"triple-bounce\"\n              color=\"white\"\n            ></mt-spinner>\n            <span v-else>{{ detailMsg.coin }}</span>\n          </div>\n          <span class=\"iconfont icon-qiehuan m-5-lr\"></span>\n          <div class=\"size-18\">\n            <mt-spinner\n              v-if=\"!detailMsg.currency\"\n              type=\"triple-bounce\"\n              color=\"white\"\n            ></mt-spinner>\n            <span v-else>{{ detailMsg.currency }}</span>\n          </div>\n        </div>\n        <div class=\"size-14\">{{ detailMsg.status_text }}</div>\n      </div>\n      <div class=\"ui-flex-center\">\n        <div class=\"ui-flex-left size-12\">\n          <div class=\"m-5-r\">广告编号</div>\n          <ul class=\"ui-list ui-list-hx\">\n            <li>{{ detailMsg.adv_sn }}</li>\n            <li>\n              <P-copy :value=\"detailMsg.adv_sn\">\n                <B-svg name=\"copy-1\" class-name=\"copy\"></B-svg>\n              </P-copy>\n            </li>\n          </ul>\n        </div>\n        <B-switch\n          v-model=\"switcha\"\n          v-if=\"detailMsg.status == 1 || detailMsg.status == 2\"\n          open=\"OFF\"\n          close=\"ON\"\n          trueColor=\"#0A8F6A\"\n          falseColor=\"#0A8F6A\"\n        />\n      </div>\n    </div>\n    <div class=\"body\">\n      <P-cell :list=\"list\" theme=\"cell\" class=\"p-5-t\">\n        <template #value_0=\"scope\">\n          <div class=\"theAmountOf\">\n            <div class=\"fh\">\n              {{ detailMsg.currency_symbol }}\n            </div>\n            <div class=\"jg\">\n              <mt-spinner\n                v-if=\"!detailMsg.currency\"\n                type=\"triple-bounce\"\n                color=\"#2CBC94\"\n              ></mt-spinner>\n              <span v-else>{{ scope.row.value }}</span>\n            </div>\n          </div>\n        </template>\n        <template #value_5=\"scope\">\n          <span v-if=\"false\">{{ scope }}</span>\n          <Pay-way />\n        </template>\n        <template #value_7=\"scope\">\n          <span v-if=\"false\">{{ scope }}</span>\n          <B-a\n            @click.native=\"\n              $router.push('/adv-detail-log')\n            \"\n            class=\"orderRecord\"\n            >{{ scope.row.value }}单</B-a\n          >\n        </template>\n      </P-cell>\n      <div class=\"Footer ui-flex\">\n        <div class=\"ui-flex-1\">\n          <P-button\n            type=\"danger\"\n            plain\n            class=\"w-100-b btn-danger\"\n            @click=\"shutDown\"\n            >关闭广告</P-button\n          >\n        </div>\n        <div\n          class=\"ui-flex-1 m-10-l\"\n          @click=\"\n            $router.push({\n              path: '/release',\n              query: {\n                id: detailMsg.id,\n              },\n            })\n          \"\n        >\n          <P-button type=\"default\" plain class=\"w-100-b btn-default\"\n            >修改</P-button\n          >\n        </div>\n      </div>\n    </div>\n    <Alert\n      type=\"typography\"\n      @click=\"closeAdv\"\n      v-model=\"bool.closeTheAd\"\n      title=\"确认关闭广告?\"\n    >\n      关闭后该广告无法再次开启，进行中的订单不受影响。\n    </Alert>\n  </P-main>\n</template>\n\n<script>\nimport { AdvDetail, Types, UpAdvStatus } from \"../../api/api\";\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      bool: {\n        closeTheAd: false,\n      },\n      switcha: 0,\n      name: \"vue\",\n      val: \"\",\n      detailMsg: {}, //详情信息\n    };\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler: function (v) {\n        this.val = v;\n      },\n    },\n    val(v) {\n      this.$emit(\"input\", v);\n    },\n  },\n  computed: {\n    ...mapState(['current']),\n    advID() {\n      return this.current.advID\n    },\n    list() {\n      const msg = this.detailMsg;\n      return [\n        {\n          title: \"总金额\",\n          value: Number(msg.max_currency).toFixed(4),\n          border: false,\n        },\n        {\n          title: \"价格类型\",\n          value: msg.price_type == 1 ? \"固定价格\" : \"浮动价格\",\n          border: false,\n        },\n        // { title: \"价格溢价\", value: \"10%\", border: false },\n        {\n          title: \"委托数量\",\n          value: msg.amount,\n          extra: msg.coin,\n          border: false,\n          style: { \"margin-top\": \"20px\" },\n        },\n        {\n          title: \"剩余数量\",\n          value: msg.amount_stock,\n          extra: msg.coin,\n          border: false,\n        },\n        {\n          title: \"单笔限额\",\n          value:\n            Number(msg.min_currency).toFixed(2) +\n            \"-\" +\n            Number(msg.max_currency).toFixed(2),\n          extra: msg.currency,\n          border: false,\n        },\n        { title: \"收款方式\", border: false },\n        {\n          title: \"发布时间\",\n          value: msg.time,\n          extra: \"\",\n          border: false,\n        },\n        {\n          title: \"订单记录\",\n          value: msg.orders_count,\n          islink: true,\n          border: false,\n          style: { \"margin-top\": \"20px\" },\n        },\n      ];\n    },\n  },\n  created() {\n    this.getAdvDetail();\n  },\n  mounted() {},\n  methods: {\n    //获取广告详情\n    async getAdvDetail() {\n      const result = await AdvDetail(this.advID);\n      console.log(result);\n      this.detailMsg = result.data;\n      this.switcha = this.detailMsg.status == 1 ? 1 : 0;\n      const types = await Types({ scene: \"AdsStatus\" });\n      console.log(types);\n      types.data.map.forEach((e) => {\n        if (this.detailMsg.status == e.val) {\n          this.$set(this.detailMsg, \"status_text\", e.name);\n        }\n      });\n    },\n    shutDown() {\n      this.bool.closeTheAd = true;\n    },\n    //关闭广告\n    async closeAdv() {\n      const result = await UpAdvStatus({ id: this.detailMsg.id, status: 3 });\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$toast(\"关闭成功\");\n      this.getAdvDetail();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.head {\n  height: 98px;\n  padding: 0px 12px;\n  color: #ffffff;\n  background: #2cbc94;\n  .h4 {\n    padding-left: 0px;\n    padding-right: 5px;\n    font-size: 17px;\n    font-weight: 500;\n    color: #ffffff;\n    &:before {\n      width: 2px;\n      height: 10px;\n      margin-top: 1px;\n      background: #ffffff;\n    }\n  }\n  .copy {\n    width: 17px;\n    height: 17px;\n  }\n  .ui-list-hx {\n    li:after {\n      background: #ffffff;\n    }\n  }\n  /deep/.ivu-switch {\n    &.ivu-switch-large {\n      transform: scale(0.7);\n      margin-right: -11px;\n      height: 28px;\n      line-height: 28px;\n      border-radius: 22px;\n    }\n    &:after {\n      top: 4px;\n    }\n  }\n}\n\n.body {\n  .orderRecord {\n    font-size: 14px;\n    font-weight: 500;\n    color: #6580ff;\n  }\n}\n</style>"]}]}