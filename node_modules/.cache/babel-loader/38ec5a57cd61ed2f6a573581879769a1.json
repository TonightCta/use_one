{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/ad/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/ad/index.vue","mtime":1658454377432},{"path":"/Users/tql_yy/Documents/code/use_one/babel.config.js","mtime":1657511087035},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgQWR2ZXJ0aXNpbmdMaXN0IGZyb20gIkAvY29tcG9uZW50cy9hZHZlcnRpc2luZy1saXN0IjsKaW1wb3J0IFNjcmVlbmluZyBmcm9tICIuL2NvbXBvbmVudHMvc2NyZWVuaW5nIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgU2V0Tmlja25hbWUsIEFkdkxpc3QsIFR5cGVzLCBVcEFkdlN0YXR1cyB9IGZyb20gIi4uLy4uL2FwaS9hcGkiOwppbXBvcnQgSW5maW5pdGVMb2FkaW5nIGZyb20gInZ1ZS1pbmZpbml0ZS1sb2FkaW5nIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFkdmVydGlzaW5nTGlzdCwKICAgIFNjcmVlbmluZywKICAgIEluZmluaXRlTG9hZGluZwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29sOiB7CiAgICAgICAgU2NyZWVuaW5nQ2xhc3M6IGZhbHNlLAogICAgICAgIFNjcmVlbmluZzogZmFsc2UsCiAgICAgICAgU2NyZWVuaW5nQm9vbDogdHJ1ZSwKICAgICAgICBtb3JlQW5kTW9yZTogZmFsc2UsCiAgICAgICAgY2xvc2VUaGVBZDogZmFsc2UsCiAgICAgICAgZ29DaGFudDogZmFsc2UsCiAgICAgICAgc2V0Tmlja05hbWU6IGZhbHNlCiAgICAgIH0sCiAgICAgIG5pY2tuYW1lOiAiIiwKICAgICAgc2VsZWN0OiBbewogICAgICAgIG5hbWU6ICLkv67mlLkiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAi5YWz6Zet5bm/5ZGKIiwKICAgICAgICBjb2xvcjogIiNGRDU2NTYiCiAgICAgIH1dLAogICAgICBhZHZMaXN0OiBbXSwKICAgICAgLy/lub/lkYrliJfooagKICAgICAgYWR2TGlzdFNlYzogW10sCiAgICAgIHBhZ2U6IDAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBhZHZJRDogbnVsbCwKICAgICAgYXJyMjogW10sCiAgICAgIGFycjM6IFtdLAogICAgICBhcnI0OiBbXQogICAgfTsKICB9LAoKICB3YXRjaDogewogICAgImJvb2wuU2NyZWVuaW5nIih2KSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRoaXMub3BlblNjcmVlbmluZyhmYWxzZSk7CiAgICAgIH0KICAgIH0KCiAgfSwKICBjb21wdXRlZDogeyAuLi5tYXBTdGF0ZShbImN1cnJlbnQiXSkKICB9LAoKICBjcmVhdGVkKCkgey8vIHRoaXMuZ2V0RmlsdGVyQWR2KCk7CiAgICAvLyB0aGlzLmdldEFkdkxpc3QoKTsKICB9LAoKICBtb3VudGVkKCkge30sCgogIG1ldGhvZHM6IHsKICAgIC8v562b6YCJ57G75Z6LCiAgICBnZXRGaWx0ZXIoX3BhcmFtcykgewogICAgICBjb25zb2xlLmxvZyhfcGFyYW1zKTsgLy8gbGV0IGFyciA9IHRoaXMuYWR2TGlzdDsKICAgICAgLy8gbGV0IGFycjIgPSBbXSxhcnIzID0gW10sYXJyNCA9IFtdOwoKICAgICAgbGV0IGFycjIgPSBbXTsKCiAgICAgIGlmIChfcGFyYW1zICE9ICLlhajpg6giKSB7CiAgICAgICAgYXJyMiA9IHRoaXMuYWR2TGlzdFNlYy5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICByZXR1cm4gaXRlbS50eXBlX3RleHQuaW5jbHVkZXMoX3BhcmFtcykgfHwgaXRlbS5jb2luLmluY2x1ZGVzKF9wYXJhbXMpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmFkdkxpc3QgPSBhcnIyOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmFkdkxpc3QpOwoKICAgICAgaWYgKF9wYXJhbXMuY29pbiAhPSAi5YWo6YOoIikgewogICAgICAgIGFycjMgPSB0aGlzLmFkdkxpc3RTZWMuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgICAgcmV0dXJuIGl0ZW0uY29pbi5pbmNsdWRlcyhfcGFyYW1zLmNvaW4pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoX3BhcmFtcy5zdGF0dXMgIT0gIuWFqOmDqCIpIHsKICAgICAgICBhcnI0ID0gdGhpcy5hZHZMaXN0U2VjLmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgIHJldHVybiBpdGVtLnN0YXR1c190ZXh0LmluY2x1ZGVzKF9wYXJhbXMuc3RhdHVzKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgWy8veyB0aXRsZTogIiIsIGNvaW46ICIiLCBzdGF0dXM6ICIiIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgY29pbjogIiIsCiAgICAgICAgc3RhdHVzOiAiIgogICAgICB9IC8veyB0aXRsZTogIiIsIGNvaW46ICIiLCBzdGF0dXM6ICIiIH0sCiAgICAgIF07CiAgICAgIHJldHVybjsKICAgICAgdGhpcy5ib29sLlNjcmVlbmluZyA9IGZhbHNlOwogICAgfSwKCiAgICAvL+iOt+WPluW5v+WRiuWIl+ihqAogICAgYXN5bmMgZ2V0QWR2TGlzdCgpIHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQWR2TGlzdCh7CiAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgIGxpbWl0OiAxMAogICAgICB9KTsKICAgICAgY29uc3QgdHlwZXMgPSBhd2FpdCBUeXBlcyh7CiAgICAgICAgc2NlbmU6ICJBZHNTdGF0dXMiCiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMucGFnZSA+IDEpIHsKICAgICAgICByZXN1bHQuZGF0YS5saXN0LmZvckVhY2goZSA9PiB7CiAgICAgICAgICB0aGlzLmFkdkxpc3QucHVzaChlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkdkxpc3QgPSByZXN1bHQuZGF0YS5saXN0OwogICAgICB9CgogICAgICB0aGlzLmFkdkxpc3QuZm9yRWFjaChlID0+IHsKICAgICAgICB0aGlzLiRzZXQoZSwgImNoZWNrZWQiLCBlLnN0YXR1cyA9PSAxID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgICB0aGlzLiRzZXQoZSwgInR5cGVfdGV4dCIsIGUudHlwZSA9PSAxID8gIuWHuuWUriIgOiAi6LSt5LmwIik7CiAgICAgICAgdHlwZXMuZGF0YS5tYXAuZm9yRWFjaCh0eXBlID0+IHsKICAgICAgICAgIGlmIChlLnN0YXR1cyA9PSB0eXBlLnZhbCkgewogICAgICAgICAgICB0aGlzLiRzZXQoZSwgInN0YXR1c190ZXh0IiwgdHlwZS5uYW1lKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuYWR2TGlzdFNlYyA9IHRoaXMuYWR2TGlzdDsKICAgICAgdGhpcy5hcnIyID0gdGhpcy5hZHZMaXN0OwogICAgICB0aGlzLmFycjMgPSB0aGlzLmFkdkxpc3Q7CiAgICAgIHRoaXMuYXJyNCA9IHRoaXMuYWR2TGlzdDsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCgogICAgYXN5bmMgbG9hZE1vcmVFdmVudCgkc3RhdGUpIHsKICAgICAgLy8gICB0aGlzLnN0YXRlID0gJHN0YXRlOwogICAgICAvLyAgIHRoaXMubG9hZE1vcmVEb20gPSB0cnVlOwogICAgICB0aGlzLnBhZ2UgKz0gMTsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZXRBZHZMaXN0KCk7CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXRhCiAgICAgIH0gPSByZXN1bHQ7CgogICAgICBpZiAodGhpcy5hZHZMaXN0Lmxlbmd0aCA9PSBkYXRhLnRvdGFsKSB7CiAgICAgICAgJHN0YXRlLmNvbXBsZXRlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJHN0YXRlLmxvYWRlZCgpOwogICAgICB9CiAgICB9LAoKICAgIC8v5pu05paw5bm/5ZGK54q25oCBCiAgICBhc3luYyB1cEFkdlN0YXR1c0V2KF9yb3csIF9zdGF0dXMpIHsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIGlkOiBfc3RhdHVzID8gX3N0YXR1cyA6IF9yb3cuaWQsCiAgICAgICAgc3RhdHVzOiBfc3RhdHVzID8gMyA6IF9yb3cuc3RhdHVzID09IDEgPyAyIDogMQogICAgICB9OwogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVcEFkdlN0YXR1cyhwYXJhbXMpOwogICAgICBjb25zdCB7CiAgICAgICAgY29kZQogICAgICB9ID0gcmVzdWx0OwoKICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7CiAgICAgICAgdGhpcy4kdG9hc3QocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kdG9hc3Quc3VjY2Vzcyh7CiAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKnyIsCiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMuZ2V0QWR2TGlzdCgpOwogICAgICB0aGlzLmJvb2wuY2xvc2VUaGVBZCA9IGZhbHNlOwogICAgfSwKCiAgICBvcGVuU2NyZWVuaW5nKGJvb2wpIHsKICAgICAgaWYgKHRoaXMuYm9vbC5TY3JlZW5pbmdCb29sKSB7CiAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0Jvb2wgPSBmYWxzZTsKCiAgICAgICAgaWYgKHRoaXMuYm9vbC5TY3JlZW5pbmdDbGFzcykgewogICAgICAgICAgaWYgKGJvb2wpIHsKICAgICAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZyA9ICF0aGlzLmJvb2wuU2NyZWVuaW5nOwogICAgICAgICAgfQoKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmJvb2wuU2NyZWVuaW5nQ2xhc3MgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0Jvb2wgPSB0cnVlOwogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0NsYXNzID0gdHJ1ZTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBpZiAoYm9vbCkgewogICAgICAgICAgICAgIHRoaXMuYm9vbC5TY3JlZW5pbmcgPSAhdGhpcy5ib29sLlNjcmVlbmluZzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0Jvb2wgPSB0cnVlOwogICAgICAgICAgfSwgNTApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBvcGVyYXRpb24ocm93KSB7CiAgICAgIHRoaXMuYm9vbC5tb3JlQW5kTW9yZSA9IHRydWU7CiAgICAgIHRoaXMuYWR2SUQgPSByb3cuaWQ7CiAgICB9LAoKICAgIG1vcmVPcGVyYXRpb25zKGFjdGlvbiwgaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09PSAxKSB7CiAgICAgICAgdGhpcy5ib29sLmNsb3NlVGhlQWQgPSB0cnVlOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIG9uTGlzdCgpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBUEkuR2V0RGF0YSh0aGlzLCAiYXBpL2xpc3QiKTsKICAgICAgY29uc3QgewogICAgICAgIGNvZGUsCiAgICAgICAgaXRlbXMsCiAgICAgICAgdG90YWwKICAgICAgfSA9IHJlc3BvbnNlOwoKICAgICAgaWYgKGNvZGUgPT0gMjAwKSB7CiAgICAgICAgdGhpcy4kcmVmc1siUC1saXN0Il0uQWRkKGl0ZW1zLCB0b3RhbCk7CiAgICAgIH0KICAgIH0sCgogICAgb25SZWZyZXNoKCkgewogICAgICAvLyB0aGlzLm9uTGlzdCgpOwogICAgICB0aGlzLnBhZ2UgPSAwOwogICAgICB0aGlzLmdldEFkdkxpc3QoKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0sIDUwMCk7CiAgICB9LAoKICAgIC8v5Y+R5biD5bm/5ZGKCiAgICBnb1JlbGVhc2UoKSB7CiAgICAgIC8vICBocmVmPSIvcmVsZWFzZSIvCiAgICAgIGlmICghdGhpcy5jdXJyZW50LmFjY291bnQuc2VjdXJpdHkpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luP1JldHVyblVybD0vIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB7CiAgICAgICAgbWVyY2hhbnQKICAgICAgfSA9IHRoaXMuY3VycmVudC5hY2NvdW50LnNlY3VyaXR5OwogICAgICBjb25zdCB7CiAgICAgICAgbWVyY2hhbnRfbmFtZQogICAgICB9ID0gdGhpcy5jdXJyZW50LmFjY291bnQubWVyY2hhbnRJbmZvOwoKICAgICAgaWYgKG1lcmNoYW50ID09IDApIHsKICAgICAgICB0aGlzLmJvb2wuZ29DaGFudCA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIW1lcmNoYW50X25hbWUpIHsKICAgICAgICB0aGlzLmJvb2wuc2V0Tmlja05hbWUgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9yZWxlYXNlIik7CiAgICB9LAoKICAgIC8v6K6+572u5pi156ewCiAgICBhc3luYyBzdWJtaXROaWNrbmFtZSgpIHsKICAgICAgaWYgKCF0aGlzLm5pY2tuYW1lKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuivt+i+k+WFpeaYteensCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2V0Tmlja25hbWUoewogICAgICAgIG1lcmNoYW50X25hbWU6IHRoaXMubmlja25hbWUKICAgICAgfSk7CiAgICAgIGNvbnN0IHsKICAgICAgICBjb2RlCiAgICAgIH0gPSByZXN1bHQ7CgogICAgICBpZiAoY29kZSAhPSAyMDApIHsKICAgICAgICB0aGlzLiR0b2FzdChyZXN1bHQubWVzc2FnZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY3VycmVudC91cFVzZXJJbmZvIik7CiAgICAgIHRoaXMuJHRvYXN0KCLorr7nva7miJDlip8iKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9yZWxlYXNlIik7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";AAmJA;AACA;AACA;AACA;AACA;AACA;EACAA;IACAC,eADA;IAEAC,SAFA;IAGAC;EAHA,CADA;;EAMAC;IACA;MACAC;QACAC,qBADA;QAEAJ,gBAFA;QAGAK,mBAHA;QAIAC,kBAJA;QAKAC,iBALA;QAMAC,cANA;QAOAC;MAPA,CADA;MAUAC,YAVA;MAWAC;QAAAC;MAAA;QAAAA;QAAAC;MAAA,EAXA;MAYAC,WAZA;MAYA;MACAC,cAbA;MAcAC,OAdA;MAeAC,cAfA;MAgBAC,WAhBA;MAiBAC,QAjBA;MAkBAC,QAlBA;MAmBAC;IAnBA;EAqBA,CA5BA;;EA6BAC;IACA;MACA;QACA;MACA;IACA;;EALA,CA7BA;EAoCAC,YACA;EADA,CApCA;;EAwCAC,WACA;IACA;EACA,CA3CA;;EA4CAC,YA5CA;;EA6CAC;IACA;IACAC;MACAC,qBADA,CAEA;MACA;;MACA;;MACA;QACAT;UACA,OACAU,+DADA;QAGA,CAJA;MAKA;;MACA;MACAD;;MACA;QACAR;UACA;QACA,CAFA;MAGA;;MACA;QACAC;UACA;QACA,CAFA;MAGA;;MACA,CACA;MACA;QAAAS;QAAAC;QAAAC;MAAA,CAFA,CAGA;MAHA;MAKA;MACA;IACA,CAjCA;;IAkCA;IACA;MACA;QAAAhB;QAAAiB;MAAA;MACA;QAAAC;MAAA;;MACA;QACAC;UACA;QACA,CAFA;MAGA,CAJA,MAIA;QACA;MACA;;MACA;QACA;QACA;QACAC;UACA;YACA;UACA;QACA,CAJA;MAKA,CARA;MASA;MACA;MACA;MACA;MACA;IACA,CA3DA;;IA4DA;MACA;MACA;MACA;MACA;MACA;QAAAlC;MAAA;;MACA;QACAmC;MACA,CAFA,MAEA;QACAA;MACA;IACA,CAvEA;;IAwEA;IACA;MACA;QACAC,+BADA;QAEAN;MAFA;MAIA;MACA;QAAAO;MAAA;;MACA;QACA;QACA;MACA;;MACA;QACAC,eADA;QAEAC;MAFA;MAIA;MACA;IACA,CA1FA;;IA2FAC;MACA;QACA;;QACA;UACA;YACA;UACA;;UACAC;YACA;YACA;UACA,CAHA,EAGA,GAHA;QAIA,CARA,MAQA;UACA;UACAA;YACA;cACA;YACA;;YACA;UACA,CALA,EAKA,EALA;QAMA;MACA;IACA,CAhHA;;IAiHAC;MACA;MACA;IACA,CApHA;;IAqHAC;MACA;QACA;MACA;IACA,CAzHA;;IA0HA;MACA;MACA;QAAAN;QAAAO;QAAAC;MAAA;;MACA;QACA;MACA;IACA,CAhIA;;IAiIAC;MACA;MACA;MACA;MACAL;QACA;MACA,CAFA,EAEA,GAFA;IAGA,CAxIA;;IAyIA;IACAM;MACA;MACA;QACA;QACA;MACA;;MACA;QAAAC;MAAA;MACA;QAAAC;MAAA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;IACA,CA3JA;;IA4JA;IACA;MACA;QACA;QACA;MACA;;MACA;QAAAA;MAAA;MACA;QAAAZ;MAAA;;MACA;QACA;QACA;MACA;;MACA;MACA;MACA;IACA;;EA3KA;AA7CA","names":["components","AdvertisingList","Screening","InfiniteLoading","data","bool","ScreeningClass","ScreeningBool","moreAndMore","closeTheAd","goChant","setNickName","nickname","select","name","color","advList","advListSec","page","loading","advID","arr2","arr3","arr4","watch","computed","created","mounted","methods","getFilter","console","item","title","coin","status","limit","scene","result","types","$state","id","code","message","forbidClick","openScreening","setTimeout","operation","moreOperations","items","total","onRefresh","goRelease","merchant","merchant_name"],"sourceRoot":"src/views/ad","sources":["index.vue"],"sourcesContent":["<template>\n  <P-main>\n    <Navigation\n      title=\"我的广告\"\n      :left-arrow=\"false\"\n      :class=\"[bool.ScreeningClass ? 'navigation' : '']\"\n    >\n      <template #right>\n        <B-svg name=\"shaixuan\" @click=\"openScreening(true)\" />\n      </template>\n    </Navigation>\n    <P-body type=\"Fei\">\n      <!-- <P-list\n        ref=\"P-list\"\n        :footer=\"true\"\n        theme=\"card\"\n        @refresh=\"onRefresh\"\n        @load=\"onList\"\n      >\n        <template v-slot=\"{ row }\">\n          <B-a :href=\"`/advertisingfordetails/${row.id}`\">\n            <Advertising-list\n              :name=\"row.name\"\n              :Price=\"row.Price\"\n              :badge=\"row.number\"\n              :date=\"row.datetime\"\n              :state=\"row.number\"\n              @operation=\"operation(row)\"\n            />\n          </B-a>\n        </template>\n      </P-list> -->\n      <div class=\"adv-list-parent\">\n        <van-pull-refresh v-model=\"loading\" @refresh=\"onRefresh\">\n          <ul class=\"adv-list\">\n            <li\n              v-for=\"(row, index) in advList\"\n              :key=\"index\"\n              :class=\"row.adv_type == 2 ? 'green-color' : 'red-color'\"\n            >\n              <!-- 标题信息 -->\n              <div class=\"adv-title\">\n                <p class=\"title-msg\">\n                  <span></span>{{ row.adv_type == 2 ? \"购买\" : \"出售\" }}&nbsp;{{\n                    row.coin\n                  }}\n                </p>\n                <div>\n                  <span>{{ row.status_text }}</span>\n                  <van-switch\n                    v-if=\"row.status == 1 || row.status == 2\"\n                    active-color=\"#2CBC94\"\n                    inactive-color=\"#ccc\"\n                    v-model=\"row.checked\"\n                    @change=\"upAdvStatusEv(row)\"\n                    size=\"16\"\n                  />\n                </div>\n              </div>\n              <!-- 广告信息 -->\n              <div class=\"adv-content\">\n                <div class=\"price-msg\">\n                  <p>\n                    <span>数量</span>{{ row.amount.toFixed(2) }}&nbsp;{{\n                      row.coin\n                    }}\n                  </p>\n                  <p>\n                    <span>限额</span>{{ row.min_currency.toFixed(2) }}-{{\n                      row.max_currency.toFixed(2)\n                    }}&nbsp;{{ row.currency }}\n                  </p>\n                </div>\n                <div class=\"price-limit\">\n                  <p>单价</p>\n                  <p class=\"with-color\">\n                    <span>{{ row.currency_symbol }}</span\n                    >{{ row.price.toFixed(2) }}\n                  </p>\n                </div>\n              </div>\n              <!-- 操作信息 -->\n              <div class=\"adv-footer\">\n                <div class=\"pay-way\">\n                  <p v-for=\"(pay, index) in row.payments\" :key=\"index\">\n                    <img :src=\"pay.logo\" alt=\"\" />\n                  </p>\n                </div>\n                <div class=\"iconfont icon-qita\" @click=\"operation(row)\"></div>\n              </div>\n            </li>\n          </ul>\n          <infinite-loading\n            spinner=\"spiral\"\n            @infinite=\"loadMoreEvent\"\n            :distance=\"0\"\n          >\n            <div slot=\"spinner\">\n              <mt-spinner type=\"triple-bounce\" color=\"#2CBC94\"></mt-spinner>\n            </div>\n          </infinite-loading>\n        </van-pull-refresh>\n      </div>\n    </P-body>\n    <Screening v-model=\"bool.Screening\" @click=\"getFilter\" />\n    <P-select\n      v-model=\"bool.moreAndMore\"\n      :list=\"select\"\n      cancelText=\"取消\"\n      @select=\"moreOperations\"\n    />\n    <Alert\n      type=\"typography\"\n      @click=\"upAdvStatusEv(null, advID)\"\n      v-model=\"bool.closeTheAd\"\n      title=\"确认关闭广告?\"\n    >\n      若您已向卖家付款，请勿取消订单，否则可能会导致资金损失。若当日取消超过3次将会禁止交易。\n    </Alert>\n    <P-suspension-add @click=\"goRelease\" />\n    <!-- 申请成为商家 -->\n    <Alert\n      title=\"提示\"\n      v-model=\"bool.goChant\"\n      @click=\"$router.push('/chant-application')\"\n    >\n      <p class=\"text-center\">您尚未成为商家，是否前往申请？</p>\n    </Alert>\n    <!-- 设置昵称 -->\n    <Alert\n      v-model=\"bool.setNickName\"\n      title=\"设置昵称\"\n      @click=\"submitNickname\"\n      btnDetermineName=\"添加\"\n    >\n      <div class=\"set-nickname\">\n        <p>\n          <span class=\"iconfont icon-attention\"></span>\n          发布广告需设置法币账户昵称，完成设置后不可修改。\n        </p>\n        <input type=\"text\" placeholder=\"请输入昵称\" v-model=\"nickname\" />\n      </div>\n    </Alert>\n  </P-main>\n</template>\n\n<script>\nimport AdvertisingList from \"@/components/advertising-list\";\nimport Screening from \"./components/screening\";\nimport { mapState } from \"vuex\";\nimport { SetNickname, AdvList, Types, UpAdvStatus } from \"../../api/api\";\nimport InfiniteLoading from \"vue-infinite-loading\";\nexport default {\n  components: {\n    AdvertisingList,\n    Screening,\n    InfiniteLoading,\n  },\n  data() {\n    return {\n      bool: {\n        ScreeningClass: false,\n        Screening: false,\n        ScreeningBool: true,\n        moreAndMore: false,\n        closeTheAd: false,\n        goChant: false,\n        setNickName: false,\n      },\n      nickname: \"\",\n      select: [{ name: \"修改\" }, { name: \"关闭广告\", color: \"#FD5656\" }],\n      advList: [], //广告列表\n      advListSec: [],\n      page: 0,\n      loading: false,\n      advID: null,\n      arr2: [],\n      arr3: [],\n      arr4: [],\n    };\n  },\n  watch: {\n    \"bool.Screening\"(v) {\n      if (!v) {\n        this.openScreening(false);\n      }\n    },\n  },\n  computed: {\n    ...mapState([\"current\"]),\n    \n  },\n  created() {\n    // this.getFilterAdv();\n    // this.getAdvList();\n  },\n  mounted() {},\n  methods: {\n    //筛选类型\n    getFilter(_params) {\n      console.log(_params);\n      // let arr = this.advList;\n      // let arr2 = [],arr3 = [],arr4 = [];\n      let arr2 = [];\n      if (_params != \"全部\") {\n        arr2 = this.advListSec.filter((item) => {\n          return (\n            item.type_text.includes(_params) || item.coin.includes(_params)\n          );\n        });\n      }\n      this.advList = arr2;\n      console.log(this.advList);\n      if (_params.coin != \"全部\") {\n        arr3 = this.advListSec.filter((item) => {\n          return item.coin.includes(_params.coin);\n        });\n      }\n      if (_params.status != \"全部\") {\n        arr4 = this.advListSec.filter((item) => {\n          return item.status_text.includes(_params.status);\n        });\n      }\n      [\n        //{ title: \"\", coin: \"\", status: \"\" },\n        { title: \"\", coin: \"\", status: \"\" },\n        //{ title: \"\", coin: \"\", status: \"\" },\n      ];\n      return;\n      this.bool.Screening = false;\n    },\n    //获取广告列表\n    async getAdvList() {\n      const result = await AdvList({ page: this.page, limit: 10 });\n      const types = await Types({ scene: \"AdsStatus\" });\n      if (this.page > 1) {\n        result.data.list.forEach((e) => {\n          this.advList.push(e);\n        });\n      } else {\n        this.advList = result.data.list;\n      }\n      this.advList.forEach((e) => {\n        this.$set(e, \"checked\", e.status == 1 ? true : false);\n        this.$set(e, \"type_text\", e.type == 1 ? \"出售\" : \"购买\");\n        types.data.map.forEach((type) => {\n          if (e.status == type.val) {\n            this.$set(e, \"status_text\", type.name);\n          }\n        });\n      });\n      this.advListSec = this.advList;\n      this.arr2 = this.advList;\n      this.arr3 = this.advList;\n      this.arr4 = this.advList;\n      return result;\n    },\n    async loadMoreEvent($state) {\n      //   this.state = $state;\n      //   this.loadMoreDom = true;\n      this.page += 1;\n      const result = await this.getAdvList();\n      const { data } = result;\n      if (this.advList.length == data.total) {\n        $state.complete();\n      } else {\n        $state.loaded();\n      }\n    },\n    //更新广告状态\n    async upAdvStatusEv(_row, _status) {\n      const params = {\n        id: _status ? _status : _row.id,\n        status: _status ? 3 : _row.status == 1 ? 2 : 1,\n      };\n      const result = await UpAdvStatus(params);\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$toast.success({\n        message: \"修改成功\",\n        forbidClick: true,\n      });\n      this.getAdvList();\n      this.bool.closeTheAd = false;\n    },\n    openScreening(bool) {\n      if (this.bool.ScreeningBool) {\n        this.bool.ScreeningBool = false;\n        if (this.bool.ScreeningClass) {\n          if (bool) {\n            this.bool.Screening = !this.bool.Screening;\n          }\n          setTimeout(() => {\n            this.bool.ScreeningClass = false;\n            this.bool.ScreeningBool = true;\n          }, 500);\n        } else {\n          this.bool.ScreeningClass = true;\n          setTimeout(() => {\n            if (bool) {\n              this.bool.Screening = !this.bool.Screening;\n            }\n            this.bool.ScreeningBool = true;\n          }, 50);\n        }\n      }\n    },\n    operation(row) {\n      this.bool.moreAndMore = true;\n      this.advID = row.id;\n    },\n    moreOperations(action, index) {\n      if (index === 1) {\n        this.bool.closeTheAd = true;\n      }\n    },\n    async onList() {\n      const response = await API.GetData(this, \"api/list\");\n      const { code, items, total } = response;\n      if (code == 200) {\n        this.$refs[\"P-list\"].Add(items, total);\n      }\n    },\n    onRefresh() {\n      // this.onList();\n      this.page = 0;\n      this.getAdvList();\n      setTimeout(() => {\n        this.loading = false;\n      }, 500);\n    },\n    //发布广告\n    goRelease() {\n      //  href=\"/release\"/\n      if (!this.current.account.security) {\n        this.$router.push(\"/login?ReturnUrl=/\");\n        return;\n      }\n      const { merchant } = this.current.account.security;\n      const { merchant_name } = this.current.account.merchantInfo;\n      if (merchant == 0) {\n        this.bool.goChant = true;\n        return;\n      }\n      if (!merchant_name) {\n        this.bool.setNickName = true;\n        return;\n      }\n      this.$router.push(\"/release\");\n    },\n    //设置昵称\n    async submitNickname() {\n      if (!this.nickname) {\n        this.$toast(\"请输入昵称\");\n        return;\n      }\n      const result = await SetNickname({ merchant_name: this.nickname });\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      await this.$store.dispatch(\"current/upUserInfo\");\n      this.$toast(\"设置成功\");\n      this.$router.push(\"/release\");\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"./index.less\");\n.navigation {\n  /deep/.van-nav-bar {\n    z-index: 9999;\n  }\n}\n</style>"]}]}