{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/mine/safty/phone_auth.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/mine/safty/phone_auth.vue","mtime":1658287103366},{"path":"/Users/tql_yy/Documents/code/use_one/babel.config.js","mtime":1657511087035},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKCnZhciBfdnVleCA9IHJlcXVpcmUoInZ1ZXgiKTsKCnZhciBfYXBpID0gcmVxdWlyZSgiLi4vLi4vLi4vYXBpL2FwaSIpOwoKdmFyIF9kZWZhdWx0ID0gewogIGRhdGEoKSB7CiAgICBjb25zdCB2ZXJpZnlfcGhvbmUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICghdGhpcy5mb3JtLnBob25lX3ByZWZpeCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36YCJ5oup5Zu95a625Yy65Y+3IikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgdmVyaWZ5X2NvZGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT0gNikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWlNuS9jemqjOivgeeggSIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGJlZm9yZUF1dGg6IDEsCiAgICAgIGNvdW50OiAwLAogICAgICBhdXRoRm9ybTogewogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBhdXRoRm9ybVJ1bGU6IHsKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgi6K+36L6T5YWl55m75b2V5a+G56CBIiksCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDorr7nva7miYvmnLrlj7cKICAgICAgZm9ybTogewogICAgICAgIHBob25lX3ByZWZpeDogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIC8vIHBhc3N3b3JkOiAiIiwKICAgICAgICBjb2RlOiAiIgogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIHBob25lX3ByZWZpeDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgi6K+36YCJ5oup5Zu95a625Yy65Y+3IiksCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgi6K+36L6T5YWl5omL5py65Y+3IiksCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHZlcmlmeV9waG9uZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIC8vIHBhc3N3b3JkOiBbCiAgICAgICAgLy8gICB7CiAgICAgICAgLy8gICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIC8vICAgICBtZXNzYWdlOiB0aGlzLiR0KCLor7fovpPlhaXnmbvlvZXlr4bnoIEiKSwKICAgICAgICAvLyAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgIHsKICAgICAgICAvLyAgICAgbWluOiA4LAogICAgICAgIC8vICAgICBtYXg6IDEyLAogICAgICAgIC8vICAgICBtZXNzYWdlOiB0aGlzLiR0KCLplb/luqblnKg45YiwMTLkuKrlrZfnrKYiKSwKICAgICAgICAvLyAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyBdLAogICAgICAgIGNvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoIuivt+i+k+WFpemqjOivgeeggSIpLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgdmFsaWRhdG9yOiB2ZXJpZnlfY29kZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIE5hdGlvbmFsTnVtYmVyOiB7CiAgICAgICAgY29kZTogIiIsCiAgICAgICAgbG9nbzogIiIKICAgICAgfSwKICAgICAgYXJlYVBvcDogZmFsc2UKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4uKDAsIF92dWV4Lm1hcFN0YXRlKShbImN1cnJlbnQiXSkKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE5hdmlnYXRpb246IHJlc29sdmUgPT4gcmVxdWlyZShbIi4uLy4uLy4uL2NvbXBvbmVudHMvbmF2L05hdmlnYXRpb24iXSwgcmVzb2x2ZSksCiAgICBTZWxlY3RBcmVhOiByZXNvbHZlID0+IHJlcXVpcmUoWyIuLi8uLi9sb2dpbi9jb21wb25lbnRzL3NlbGVjdEFyZWEiXSwgcmVzb2x2ZSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUGFzcyhmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShhc3luYyByZXMgPT4gewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICgwLCBfYXBpLkNoZWNrUGFzcykoewogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5hdXRoRm9ybS5wYXNzd29yZAogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIGNvZGUKICAgICAgICAgIH0gPSByZXN1bHQ7CgogICAgICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuJHRvYXN0LmxvYWRpbmcoewogICAgICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwKICAgICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5iZWZvcmVBdXRoID0gMjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBjbG9zZUFyZWEoKSB7CiAgICAgIHRoaXMuYXJlYVBvcCA9IGZhbHNlOwogICAgfSwKCiAgICBnZXRDaG9vc2VQcmVmaXgoYXJnKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsgLi4udGhpcy5mb3JtLAogICAgICAgIHBob25lX3ByZWZpeDogYXJnLnByZWZpeAogICAgICB9OwogICAgICB0aGlzLk5hdGlvbmFsTnVtYmVyID0geyAuLi50aGlzLk5hdGlvbmFsTnVtYmVyLAogICAgICAgIGxvZ286IGFyZy5sb2dvLAogICAgICAgIHByZWZpeDogYXJnLnByZWZpeAogICAgICB9OwogICAgfSwKCiAgICAvL+WPkemAgemqjOivgeeggQogICAgYXN5bmMgc2VuZFBob25lQ29kZSgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm0ucGhvbmVfcHJlZml4KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuivt+mAieaLqeWbveWutuWMuuWPtyIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmZvcm0ucGhvbmUpIHsKICAgICAgICB0aGlzLiR0b2FzdCgi6K+36L6T5YWl5omL5py65Y+3Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgc2NlbmU6IDMsCiAgICAgICAgdHlwZTogMSwKICAgICAgICBwaG9uZTogdGhpcy5mb3JtLnBob25lLAogICAgICAgIHBob25lX3ByZWZpeDogdGhpcy5mb3JtLnBob25lX3ByZWZpeAogICAgICB9OwogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoMCwgX2FwaS5TZW5kQ29kZSkocGFyYW1zKTsKICAgICAgY29uc3QgewogICAgICAgIGNvZGUKICAgICAgfSA9IHJlc3VsdDsKCiAgICAgIGlmIChjb2RlICE9IDIwMCkgewogICAgICAgIHRoaXMuJHRvYXN0KHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHRvYXN0KCLpqozor4HnoIHlj5HpgIHmiJDlip8iKTsKICAgICAgdGhpcy5jb3VudCA9IDYwOwogICAgfSwKCiAgICBzdWJtaXRFbWFpbChmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShhc3luYyByZXMgPT4gewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLpqozor4HpgJrov4ciKTsKICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuZm9ybS5waG9uZSwKICAgICAgICAgICAgcGhvbmVfcHJlZml4OiB0aGlzLmZvcm0ucGhvbmVfcHJlZml4LAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5hdXRoRm9ybS5wYXNzd29yZCwKICAgICAgICAgICAgY29kZTogdGhpcy5mb3JtLmNvZGUKICAgICAgICAgIH07CiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoMCwgX2FwaS5CaW5kUGhvbmUpKHBhcmFtcyk7CiAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIGNvZGUKICAgICAgICAgIH0gPSByZXN1bHQ7CgogICAgICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuJHRvYXN0KCLmiYvmnLrorqTor4HmiJDlip8iKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjdXJyZW50L3VwVXNlckluZm8iKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;AAgGA;;AACA;;eACA;EACAA;IACA;MACA;QACAC;MACA,CAFA,MAEA;QACAA;MACA;IACA,CANA;;IAOA;MACA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CANA;;IAOA;MACAC,aADA;MAEAC,QAFA;MAGAC;QACAC;MADA,CAHA;MAMAC;QACAD,WACA;UACAE,cADA;UAEAC,2BAFA;UAGAC;QAHA,CADA;MADA,CANA;MAeA;MACAC;QACAC,gBADA;QAEAC,SAFA;QAGA;QACAC;MAJA,CAhBA;MAsBAC;QACAH,eACA;UACAJ,cADA;UAEAC,2BAFA;UAGAC;QAHA,CADA,CADA;QAQAG,QACA;UAAAL;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAM;UAAAN;QAAA,CAFA,CARA;QAYA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAI,OACA;UAAAN;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAM;UAAAN;QAAA,CAFA;MAzBA,CAtBA;MAoDAO;QACAH,QADA;QAEAI;MAFA,CApDA;MAwDAC;IAxDA;EA0DA,CA1EA;;EA2EAC,YACA;EADA,CA3EA;EA8EAC;IACAC,uBACAC,wDAFA;IAGAC,uBACAD;EAJA,CA9EA;EAoFAE;IACAC;MACA;QACA;UACA;YAAApB;UAAA;UACA;YAAAQ;UAAA;;UACA;YACA;YACA;UACA;;UACA;YACAL,iBADA;YAEAkB;UAFA;UAIA;QACA;MACA,CAdA;IAeA,CAjBA;;IAkBAC;MACA;IACA,CApBA;;IAqBAC;MACA,cACA,YADA;QAEAjB;MAFA;MAIA,wBACA,sBADA;QAEAM,cAFA;QAGAY;MAHA;IAKA,CA/BA;;IAgCA;IACA;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACAC,QADA;QAEAC,OAFA;QAGAnB,sBAHA;QAIAD;MAJA;MAMA;MACA;QAAAE;MAAA;;MACA;QACA;QACA;MACA;;MACA;MACA;IACA,CAxDA;;IAyDAmB;MACA;QACA;UACAC;UACA;YACArB,sBADA;YAEAD,oCAFA;YAGAN,gCAHA;YAIAQ;UAJA;UAMA;UACA;YAAAA;UAAA;;UACA;YACA;YACA;UACA;;UACA;UACA;UACA;QACA;MACA,CAnBA;IAoBA;;EA9EA;AApFA,C","names":["data","callback","beforeAuth","count","authForm","password","authFormRule","required","message","trigger","form","phone_prefix","phone","code","ruleForm","validator","NationalNumber","logo","areaPop","computed","components","Navigation","require","SelectArea","methods","checkPass","forbidClick","closeArea","getChoosePrefix","prefix","scene","type","submitEmail","console"],"sourceRoot":"src/views/mine/safty","sources":["phone_auth.vue"],"sourcesContent":["<template>\n  <div class=\"phone-auth\">\n    <Navigation v-if=\"!areaPop\" />\n    <div class=\"auth-content auth-before\" v-if=\"beforeAuth == 1\">\n      <h3>密码验证</h3>\n      <p class=\"auth-remark\">为保护您的账号安全，需要登录密码进行验证</p>\n      <el-form\n        ref=\"check\"\n        :rules=\"authFormRule\"\n        :model=\"authForm\"\n        label-position=\"top\"\n      >\n        <el-form-item prop=\"password\">\n          <P-input\n            title=\"登录密码\"\n            v-model=\"authForm.password\"\n            placeholder=\"请输入登录密码\"\n            :show-password=\"true\"\n          ></P-input>\n        </el-form-item>\n      </el-form>\n      <P-button\n        style=\"margin-top: 40px\"\n        type=\"primary\"\n        class=\"btn-primary\"\n        @click=\"checkPass('check')\"\n        >下一步</P-button\n      >\n    </div>\n    <div class=\"auth-content\" v-if=\"!areaPop && beforeAuth == 2\">\n      <h3>手机{{ current.account.phone ? \"更换\" : \"认证\" }}</h3>\n      <el-form :model=\"form\" ref=\"form\" :rules=\"ruleForm\" label-position=\"top\">\n        <!-- 手机号 -->\n        <el-form-item prop=\"phone\">\n          <P-input\n            v-model=\"form.phone\"\n            :iconBorder=\"true\"\n            title=\"手机号\"\n            placeholder=\"请输入手机号\"\n          >\n            <div class=\"\" slot=\"icon\">\n              <div class=\"user-left ui-flex-row\" @click=\"areaPop = true\">\n                <div v-if=\"form.phone_prefix\">\n                  <img :src=\"NationalNumber.logo\" class=\"theNationalFlag\" />\n                </div>\n                <div v-if=\"form.phone_prefix\" class=\"name\">\n                  {{ form.phone_prefix }}\n                </div>\n                <div v-if=\"!form.phone_prefix\" class=\"ui-col-fei m-5-r\">\n                  {{ $t(\"请选择\") }}\n                </div>\n                <B-svg name=\"jianTouXia\" class-name=\"jianTouXia\" />\n              </div>\n            </div>\n          </P-input>\n        </el-form-item>\n        <!-- 登录密码 -->\n        <el-form-item prop=\"password\" v-if=\"false\">\n          <P-input\n            title=\"登录密码\"\n            placeholder=\"请输入登录密码\"\n            :show-password=\"true\"\n          ></P-input>\n        </el-form-item>\n        <!-- 验证码 -->\n        <el-form-item prop=\"code\">\n          <P-input\n            title=\"验证码\"\n            v-model=\"form.code\"\n            placeholder=\"请输入验证码\"\n          >\n          </P-input>\n          <p class=\"send-code-text\" v-if=\"count == 0\" @click=\"sendPhoneCode\">\n            {{ $t(\"获取验证码\") }}\n          </p>\n          <B-data-theCountdown v-model=\"count\" v-else\n            >{{ count }} {{ $t(\"秒后重新获取\") }}</B-data-theCountdown\n          >\n        </el-form-item>\n      </el-form>\n      <P-button\n        type=\"primary\"\n        class=\"btn-primary h-44-i m-60-t-i\"\n        @click=\"submitEmail('form')\"\n        >提交</P-button\n      >\n    </div>\n    <SelectArea\n      v-model=\"areaPop\"\n      @close-area=\"closeArea\"\n      @click=\"getChoosePrefix\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { CheckPass, BindPhone, SendCode } from \"../../../api/api\";\nexport default {\n  data() {\n    const verify_phone = (rule, value, callback) => {\n      if (!this.form.phone_prefix) {\n        callback(new Error(\"请选择国家区号\"));\n      } else {\n        callback();\n      }\n    };\n    const verify_code = (rule, value, callback) => {\n      if (value.length != 6) {\n        callback(new Error(\"请输入6位验证码\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      beforeAuth: 1,\n      count: 0,\n      authForm: {\n        password: \"\",\n      },\n      authFormRule: {\n        password: [\n          {\n            required: true,\n            message: this.$t(\"请输入登录密码\"),\n            trigger: \"blur\",\n          },\n        ],\n      },\n      // 设置手机号\n      form: {\n        phone_prefix: \"\",\n        phone: \"\",\n        // password: \"\",\n        code: \"\",\n      },\n      ruleForm: {\n        phone_prefix: [\n          {\n            required: true,\n            message: this.$t(\"请选择国家区号\"),\n            trigger: \"blur\",\n          },\n        ],\n        phone: [\n          { required: true, message: this.$t(\"请输入手机号\"), trigger: \"blur\" },\n          { validator: verify_phone, trigger: \"blur\" },\n        ],\n        // password: [\n        //   {\n        //     required: true,\n        //     message: this.$t(\"请输入登录密码\"),\n        //     trigger: \"blur\",\n        //   },\n        //   {\n        //     min: 8,\n        //     max: 12,\n        //     message: this.$t(\"长度在8到12个字符\"),\n        //     trigger: \"blur\",\n        //   },\n        // ],\n        code: [\n          { required: true, message: this.$t(\"请输入验证码\"), trigger: \"blur\" },\n          { validator: verify_code, trigger: \"blur\" },\n        ],\n      },\n      NationalNumber: {\n        code: \"\",\n        logo: \"\",\n      },\n      areaPop: false,\n    };\n  },\n  computed: {\n    ...mapState([\"current\"]),\n  },\n  components: {\n    Navigation: (resolve) =>\n      require([\"../../../components/nav/Navigation\"], resolve),\n    SelectArea: (resolve) =>\n      require([\"../../login/components/selectArea\"], resolve),\n  },\n  methods: {\n    checkPass(formName) {\n      this.$refs[formName].validate(async (res) => {\n        if (res) {\n          const result = await CheckPass({ password: this.authForm.password });\n          const { code } = result;\n          if (code != 200) {\n            this.$toast(result.message);\n            return;\n          }\n          this.$toast.loading({\n            message: \"加载中...\",\n            forbidClick: true,\n          });\n          this.beforeAuth = 2;\n        }\n      });\n    },\n    closeArea() {\n      this.areaPop = false;\n    },\n    getChoosePrefix(arg) {\n      this.form = {\n        ...this.form,\n        phone_prefix: arg.prefix,\n      };\n      this.NationalNumber = {\n        ...this.NationalNumber,\n        logo: arg.logo,\n        prefix: arg.prefix,\n      };\n    },\n    //发送验证码\n    async sendPhoneCode() {\n      if (!this.form.phone_prefix) {\n        this.$toast(\"请选择国家区号\");\n        return;\n      }\n      if (!this.form.phone) {\n        this.$toast(\"请输入手机号\");\n        return;\n      }\n      const params = {\n        scene: 3,\n        type: 1,\n        phone: this.form.phone,\n        phone_prefix: this.form.phone_prefix,\n      };\n      const result = await SendCode(params);\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$toast(\"验证码发送成功\");\n      this.count = 60;\n    },\n    submitEmail(formName) {\n      this.$refs[formName].validate(async (res) => {\n        if (res) {\n          console.log(\"验证通过\");\n          const params = {\n            phone: this.form.phone,\n            phone_prefix: this.form.phone_prefix,\n            password: this.authForm.password,\n            code: this.form.code,\n          };\n          const result = await BindPhone(params);\n          const { code } = result;\n          if (code != 200) {\n            this.$toast(result.message);\n            return;\n          }\n          this.$toast(\"手机认证成功\");\n          this.$store.dispatch(\"current/upUserInfo\");\n          this.$router.go(-1);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"./index.less\");\n</style>"]}]}