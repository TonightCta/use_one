{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/chant/components/step_two.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/chant/components/step_two.vue","mtime":1658312996877},{"path":"/Users/tql_yy/Documents/code/use_one/babel.config.js","mtime":1657511087035},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQ2hhbnRTdGVwVGhyZWUsIFB1YmxpY1VwRmlsZSB9IGZyb20gIi4uLy4uLy4uL2FwaS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGU6IG51bGwKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgdXBWaWRlbygkZSkgewogICAgICB0aGlzLmZpbGUgPSAkZS50YXJnZXQuZmlsZXNbMF07CiAgICB9LAoKICAgIC8v5LiK5Lyg6KeG6aKRCiAgICBhc3luYyB1cFNldEZpbGUoKSB7CiAgICAgIHRoaXMuJHRvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICLliqDovb3kuK0uLi4iLAogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlCiAgICAgIH0pOwogICAgICBjb25zdCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtZGF0YS5hcHBlbmQoJ3ZpZGVvJywgdGhpcy5maWxlKTsgLy8gY29uc3QgZmlsZSA9IGF3YWl0IFB1YmxpY1VwRmlsZShmb3JtZGF0YSk7CiAgICAgIC8vIGlmKGZpbGUuY29kZSAhPSAyMDApewogICAgICAvLyAgIHRoaXMuJHRvYXN0KCfkuIrkvKDlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KCiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENoYW50U3RlcFRocmVlKGZvcm1kYXRhKTsKICAgICAgY29uc3QgewogICAgICAgIGNvZGUKICAgICAgfSA9IHJlc3VsdDsKCiAgICAgIGlmIChjb2RlICE9IDIwMCkgewogICAgICAgIHRoaXMuJHRvYXN0KHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoInVwU3RlcCIsIDMpOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AA6CA;AAEA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACAC;MACA;IACA,CAHA;;IAIA;IACA;MACA;QACAC,iBADA;QAEAC;MAFA;MAIA;MACAC,oCANA,CAOA;MACA;MACA;MACA;MACA;;MACA;MACA;QAAAC;MAAA;;MACA;QACA;QACA;MACA;;MACA;IACA;;EAxBA;AANA","names":["data","file","methods","upVideo","message","forbidClick","formdata","code"],"sourceRoot":"src/views/chant/components","sources":["step_two.vue"],"sourcesContent":["<!-- 视频证明 -->\n<template>\n  <div class=\"stwp-two step-public\">\n    <p class=\"step-title\">视频证明</p>\n    <div class=\"step-content\">\n      <div class=\"content-msg\">\n        <p>\n          请手持身份证正面，朗读以下范本并进行视频录制（保证声音和影像清晰）\n        </p>\n        <div class=\"up-video\" :class=\"file && 'has-file'\">\n          <input type=\"file\" accept=\"video/*\" @change=\"upVideo\" />\n          <img\n            v-if=\"!file\"\n            :src=\"require('../../../assets/images/up_video.png')\"\n            alt=\"\"\n          />\n          <div class=\"re-up\" v-else>\n            <p class=\"iconfont icon-shangchuan-copy\"></p>\n            <p>从新上传</p>\n          </div>\n        </div>\n        <p>\n          <span>*</span>\n          本人(姓名)身份证号(身份证号码)，我的资金来源合法可靠，自愿交易比特币等数字资产，本人充分了解数字货币及潜在风险，本人具有抗风险的能力并愿意承担一切风险。另外，我确定此账号所有操作均为本人操作，该账号所产生的一切法律责任，由我个人承担。\n        </p>\n      </div>\n      <div class=\"content-btn\">\n        <div class=\"btn-label\"></div>\n        <div class=\"btn-box\">\n          <P-button\n            type=\"primary\"\n            class=\"btn-primary default-btn\"\n            @click=\"$emit('upStep', 1)\"\n            >上一步</P-button\n          >\n          <P-button type=\"primary\" class=\"btn-primary\" @click=\"upSetFile\"\n            >下一步</P-button\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ChantStepThree,PublicUpFile } from \"../../../api/api\";\n\nexport default {\n  data() {\n    return {\n      file: null,\n    };\n  },\n  methods: {\n    upVideo($e) {\n      this.file = $e.target.files[0];\n    },\n    //上传视频\n    async upSetFile() {\n      this.$toast.loading({\n        message: \"加载中...\",\n        forbidClick: true,\n      });\n      const formdata = new FormData();\n      formdata.append('video',this.file);\n      // const file = await PublicUpFile(formdata);\n      // if(file.code != 200){\n      //   this.$toast('上传失败，请稍后再试');\n      //   return;\n      // }\n      const result = await ChantStepThree(formdata);\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$emit(\"upStep\", 3);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"./step.less\");\n.step-content {\n  width: 100%;\n  height: calc(100vh - 48px - 156px - 48px);\n}\n.content-msg {\n  padding: 10px 12px !important;\n  p {\n    font-size: 14px;\n    color: #666;\n    span {\n      color: #395cff;\n    }\n  }\n  .up-video {\n    width: 100%;\n    height: 175px;\n    border-radius: 4px;\n    border: 1px dashed #d8dbe4;\n    margin: 12px 0;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    input {\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      position: absolute;\n      opacity: 0;\n    }\n    img {\n      width: 64px;\n      height: 64px;\n    }\n    .re-up {\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.4);\n      border-radius: 4px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      .iconfont {\n        font-size: 36px;\n        color: white;\n      }\n      p {\n        font-size: 12px;\n        color: white;\n      }\n    }\n  }\n  .has-file {\n    background-image: url(\"../../../assets/images/video_bg.png\");\n    background-size: 100% 100%;\n  }\n}\n.btn-box {\n  display: flex;\n  .default-btn {\n    width: 40%;\n    margin-right: 16px;\n    background: #ffffff !important;\n    border: 1px solid #e6e6e6;\n    color: #999999;\n  }\n}\n</style>"]}]}