{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/tql_yy/Documents/code/use_one/src/store/modules/users.js","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/store/modules/users.js","mtime":1657511087063},{"path":"/Users/tql_yy/Documents/code/use_one/babel.config.js","mtime":1657511087035},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3VzZXIgPSByZXF1aXJlKCJAL2FwaS91c2VyLyIpOwoKdmFyIF9hdXRoID0gcmVxdWlyZSgiQC91dGlscy9hdXRoIik7CgovKgogKiBATmFtZTog55So5oi3566h55CGLVN0b3JlCiAqIEBEYXRlOiAyMDIyLTA0LTIxIDEzOjU1OjQ0CiAqIEBMYXN0RWRpdG9yczogVlNDb2RlCiAqIEBMYXN0RWRpdFRpbWU6IDIwMjItMDctMDQgMTg6MjY6MjUKICovCmNvbnN0IHN0YXRlID0gewogIHRva2VuOiAoMCwgX2F1dGguZ2V0VG9rZW4pKCkKfTsKY29uc3QgbXV0YXRpb25zID0gewogIFNFVF9UT0tFTjogKHN0YXRlLCB0b2tlbikgPT4gewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9Cn07CmNvbnN0IGFjdGlvbnMgPSB7CiAgLy/nlKjmiLfnmbvlvZUKICBsb2dpbih7CiAgICBjb21taXQsCiAgICBzdGF0ZQogIH0sIHBhcmFtcykgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgKDAsIF91c2VyLmxvZ2luKShwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBhY2Nlc3NfdG9rZW4sCiAgICAgICAgICAgIGV4cGlyZXNfaW4sCiAgICAgICAgICAgIHRva2VuX3R5cGUKICAgICAgICAgIH0gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgKDAsIF9hdXRoLnNldFRva2VuKSh0b2tlbl90eXBlICsgJyAnICsgYWNjZXNzX3Rva2VuKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgKDAsIF9hdXRoLmdldFRva2VuKSgpKTsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cgp9Owp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZSwKICBtdXRhdGlvbnMsCiAgYWN0aW9ucwp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"names":["state","token","getToken","mutations","SET_TOKEN","actions","login","commit","params","Promise","resolve","reject","then","response","code","access_token","expires_in","token_type","data","setToken","catch","error","namespaced"],"sources":["/Users/tql_yy/Documents/code/use_one/src/store/modules/users.js"],"sourcesContent":["/*\n * @Name: 用户管理-Store\n * @Date: 2022-04-21 13:55:44\n * @LastEditors: VSCode\n * @LastEditTime: 2022-07-04 18:26:25\n */\nimport { login } from '@/api/user/'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\n\nconst state = {\n    token: getToken()\n}\n\nconst mutations = {\n    SET_TOKEN: (state, token) => {\n        state.token = token\n    }\n}\n\nconst actions = {\n    //用户登录\n    login({ commit, state }, params) {\n        return new Promise((resolve, reject) => {\n            login(params).then(response => {\n                if (response.code == 200) {\n                    const { access_token, expires_in, token_type } = response.data;\n                    setToken(token_type + ' ' + access_token)\n                    commit('SET_TOKEN', getToken())\n                }\n                resolve(response)\n            }).catch(error => {\n                reject(error)\n            })\n        })\n    }\n}\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n}"],"mappings":";;;;;;;AAMA;;AACA;;AAPA;AACA;AACA;AACA;AACA;AACA;AAIA,MAAMA,KAAK,GAAG;EACVC,KAAK,EAAE,IAAAC,cAAA;AADG,CAAd;AAIA,MAAMC,SAAS,GAAG;EACdC,SAAS,EAAE,CAACJ,KAAD,EAAQC,KAAR,KAAkB;IACzBD,KAAK,CAACC,KAAN,GAAcA,KAAd;EACH;AAHa,CAAlB;AAMA,MAAMI,OAAO,GAAG;EACZ;EACAC,KAAK,CAAC;IAAEC,MAAF;IAAUP;EAAV,CAAD,EAAoBQ,MAApB,EAA4B;IAC7B,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;MACpC,IAAAL,WAAA,EAAME,MAAN,EAAcI,IAAd,CAAmBC,QAAQ,IAAI;QAC3B,IAAIA,QAAQ,CAACC,IAAT,IAAiB,GAArB,EAA0B;UACtB,MAAM;YAAEC,YAAF;YAAgBC,UAAhB;YAA4BC;UAA5B,IAA2CJ,QAAQ,CAACK,IAA1D;UACA,IAAAC,cAAA,EAASF,UAAU,GAAG,GAAb,GAAmBF,YAA5B;UACAR,MAAM,CAAC,WAAD,EAAc,IAAAL,cAAA,GAAd,CAAN;QACH;;QACDQ,OAAO,CAACG,QAAD,CAAP;MACH,CAPD,EAOGO,KAPH,CAOSC,KAAK,IAAI;QACdV,MAAM,CAACU,KAAD,CAAN;MACH,CATD;IAUH,CAXM,CAAP;EAYH;;AAfW,CAAhB;eAkBe;EACXC,UAAU,EAAE,IADD;EAEXtB,KAFW;EAGXG,SAHW;EAIXE;AAJW,C"}]}