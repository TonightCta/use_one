{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/bankCard/addUpdate.vue?vue&type=style&index=0&id=46bbbe01&lang=less&scoped=true&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/bankCard/addUpdate.vue","mtime":1657511087064},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js","mtime":1657523213663},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmgxIHsKICAgIHBhZGRpbmc6IDEycHg7CiAgICBwYWRkaW5nLWJvdHRvbTogMTVweDsKICAgIGZvbnQtc2l6ZTogMjNweDsKICAgIGNvbG9yOiAjMzMzMzMzOwp9Ci5ib2R5IHsKICAgIHBhZGRpbmc6IDBweDsKICAgIC5mb3JtLWl0ZW0gewogICAgICAgIHBhZGRpbmc6IDEycHg7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICAvZGVlcC8uZWwtZm9ybS1pdGVtIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgJi5pcy1lcnJvciB7CiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMnB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIC5lbC1mb3JtLWl0ZW1fX2xhYmVsIHsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDBweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAuZWwtaW5wdXRfX2lubmVyIHsKICAgICAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWVlZWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLmxhYmVsIHsKICAgICAgICAgICAgc3BhbiB7CiAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogLTdweDsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZmY0ZDRkOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDNweDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKLnByb21wdCB7CiAgICBtYXJnaW4tdG9wOiAxMnB4OwogICAgcGFkZGluZzogMTBweDsKICAgIGJhY2tncm91bmQ6ICNmZmViZWI7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAvZGVlcC8udGl0bGUgewogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgIGNvbG9yOiAjZmY3Njc2OwogICAgICAgIC5lbC1pY29uLXdhcm5pbmcgewogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgfQogICAgfQp9CgoudGV4dC15ZXNObyB7CiAgICBwYWRkaW5nOiAxMnB4OwogICAgL2RlZXAvLnRpdGxlIHsKICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgY29sb3I6ICM2NjY2NjY7CiAgICAgICAgLmljb24tc3ZnIHsKICAgICAgICAgICAgd2lkdGg6IDExcHg7CiAgICAgICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICAgICAgLmItaWNvbi1zdmcgewogICAgICAgICAgICAgICAgd2lkdGg6IDExcHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDExcHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAuYi1pY29uLXN2ZyB7CiAgICAgICAgd2lkdGg6IDExcHg7CiAgICAgICAgaGVpZ2h0OiAxMXB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjNjY2NjY2OwogICAgICAgIC9kZWVwL3VzZSB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICAgICYuYWN0aXZlIHsKICAgICAgICAgICAgL2RlZXAvdXNlIHsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["addUpdate.vue"],"names":[],"mappings":";AAqNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addUpdate.vue","sourceRoot":"src/views/bankCard","sourcesContent":["<!--\n * @Name: 添加银行卡\n * @Date: 2022-07-04 16:09:36\n * @LastEditors: VSCode\n * @LastEditTime: 2022-07-06 14:12:28\n-->\n\n<template>\n    <P-main>\n        <Navigation v-if=\"form.id == ''\" />\n        <Navigation v-else :delSwitch=\"true\" @click-icon=\"clickIcon\" />\n        <P-body type=\"Fei\" class=\"m-55-b\">\n            <h1>{{form.id === '' ? '添加':''}}银行卡</h1>\n            <el-form :model=\"form\" ref=\"form\" :rules=\"rules\" label-width=\"130px\" class=\"main\" label-position=\"top\"\n                :hide-required-asterisk=\"true\">\n                <div class=\"form-item\">\n                    <el-form-item prop=\"username\">\n                        <template #label>\n                            <div class=\"label\">\n                                姓名<span>*</span>\n                            </div>\n                        </template>\n                        <el-input v-model=\"form.username\" class=\"ui-input\" placeholder=\"请输入您的姓名\"></el-input>\n                    </el-form-item>\n                    <el-form-item prop=\"account\">\n                        <template #label>\n                            <div class=\"label\">\n                                银行卡号<span>*</span>\n                            </div>\n                        </template>\n                        <el-input v-model=\"form.account\" class=\"ui-input\" placeholder=\"请输入银行卡号\" :maxlength=\"19\">\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item prop=\"bank\">\n                        <template #label>\n                            <div class=\"label\">\n                                开户银行<span>*</span>\n                            </div>\n                        </template>\n                        <el-input v-model=\"form.bank\" class=\"ui-input\" placeholder=\"请输入开户银行\"></el-input>\n                    </el-form-item>\n                </div>\n                <div class=\"form-item m-10-t\">\n                    <el-form-item label=\"开户支行 (选填）\">\n                        <el-input v-model=\"form.bank_branch\" class=\"ui-input\" placeholder=\"请输入开户支行\"></el-input>\n                    </el-form-item>\n                </div>\n            </el-form>\n\n            <B-typographya class=\"prompt\">\n                <template #icon>\n                    <i class=\"el-icon-warning\" />\n                </template>\n                <template #title>\n                    风险提示:C2C属于场外交易，法币不经过平台，平台不会自动扣款，需要您手动自行转账给对方，对方才能收到款项。当您在法币交易出售资产时，您选择的收款方式将会展示给买方，请确认信息准确无误。\n                </template>\n            </B-typographya>\n\n            <B-typographya class=\"text-yesNo\">\n                <template #icon>\n                    <B-svg name=\"Gou1\" class-name=\"b-icon-svg\" :class=\"[bool.checkThe ? 'active':'']\"\n                        @click=\"checkThe\" />\n                </template>\n                <template #title>\n                    <div @click=\"checkThe\">我已阅读并充分理解上述内容，由于款项造成的交易风险自行承担</div>\n                </template>\n            </B-typographya>\n        </P-body>\n        <Foo-ter>\n            <P-button type=\"primary\" class=\"btn-primary h-44-i\" @click=\"onSubmit('form')\">{{form.id === '' ? '保存':'修改'}}\n            </P-button>\n        </Foo-ter>\n\n        <Alert v-model=\"alert.show\" title=\"提示\" :cancel-switch=\"alert.cancelSwitch\" @click=\"onAlert\">\n            <div class=\"ui-flex-row\">{{alert.message}}</div>\n        </Alert>\n    </P-main>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            bool: {\n                checkThe: false\n            },\n            form: {\n                id: '',\n                p_id: this.$store.state.card.addtype,\n                username: '',\n                account: '',\n                bank: '',\n                bank_branch: '',\n                qrcode: '',\n                status: ''\n            },\n            rules: {\n                username: [\n                    { required: true, message: '请输入您的姓名', trigger: 'blur' },\n                    { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\n                ],\n                account: [\n                    { required: true, message: '请输入银行卡号', trigger: 'blur' },\n                    { validator: new RegExp().bankCard, trigger: 'blur' }\n                ],\n                bank: [\n                    { required: true, message: '请输入开户银行', trigger: 'blur' },\n                    { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\n                ]\n            },\n            alert: {\n                show: false,\n                cancelSwitch: false,\n                index: 0,\n                message: ''\n            }\n\n        }\n    },\n    watch: {\n        '$route.params': {\n            deep: true,\n            immediate: true,\n            handler: function (v) {\n                if (v.id) {\n                    this.form.id = v.id\n                    this.onList(v.id)\n                }\n            }\n        },\n    },\n    mounted() {\n        if (this.form.p_id == '' && this.form.id == '') {\n            this.$router.back(-1)\n        }\n    },\n    methods: {\n        onAlert() {\n            this.alert.show = false\n            if (this.alert.index === 1) {\n                this.del()\n            }\n        },\n        onSubmit(formName) {\n            this.$refs[formName].validate((res) => {\n                if (res) {\n                    if (this.bool.checkThe) {\n                        if (this.form.id == '') {\n                            this.Submit()\n                        } else {\n                            this.Update()\n                        }\n                    } else {\n                        this.alert.show = true\n                        this.alert.cancelSwitch = false\n                        this.alert.index = 0\n                        this.alert.message = '请勾选交易风险'\n                    }\n                }\n            });\n        },\n        checkThe() {\n            this.bool.checkThe = !this.bool.checkThe\n        },\n        async Submit() {\n            const response = await API.Submit(this, 'card/add', this.form)\n            const { code, message } = response\n            if (code == 200) {\n                this.$store.commit('card/SET_ADDTYPE', '');\n                this.$router.push({ path: '/bankcard' })\n            } else {\n                this.$toast.fail(message);\n            }\n        },\n        async onList(id) {\n            const response = await API.GetData(this, 'card/getinfo', id)\n            const { code, data, message } = response\n            if (code == 200) {\n                this.form = data\n                this.bool.checkThe = true\n            } else {\n                this.$router.back(-1)\n            }\n        },\n        async Update() {\n            API.Update(this, 'card/update', this.form).then(response => {\n                if (response.code == 200) {\n                    this.$router.go(-1)\n                }\n            }).catch(error => {\n                this.$toast.fail(error.message);\n            });\n        },\n        clickIcon(v) {\n            if (v == 'del') {\n                this.alert.show = true\n                this.alert.cancelSwitch = true\n                this.alert.index = 1\n                this.alert.message = '确认删除该收款方式?'\n            }\n        },\n        async del() {\n            const response = await API.Del(this, 'card/del', this.form.id)\n            const { code, data, message } = response\n            if (code == 200) {\n                this.$router.push({ path: '/bankcard' })\n            }\n        }\n    }\n};\n</script>\n\n<style lang=\"less\" scoped>\nh1 {\n    padding: 12px;\n    padding-bottom: 15px;\n    font-size: 23px;\n    color: #333333;\n}\n.body {\n    padding: 0px;\n    .form-item {\n        padding: 12px;\n        background: #fff;\n        /deep/.el-form-item {\n            margin-bottom: 10px;\n            &.is-error {\n                margin-bottom: 22px;\n            }\n            .el-form-item__label {\n                padding: 0px;\n            }\n            .el-input__inner {\n                height: 40px;\n                padding: 0 10px;\n                border: 1px solid #eeeeee;\n            }\n        }\n        .label {\n            span {\n                vertical-align: -7px;\n                color: #ff4d4d;\n                font-size: 20px;\n                margin-left: 3px;\n            }\n        }\n    }\n}\n\n.prompt {\n    margin-top: 12px;\n    padding: 10px;\n    background: #ffebeb;\n    border-radius: 4px;\n    /deep/.title {\n        font-size: 12px;\n        font-weight: 400;\n        color: #ff7676;\n        .el-icon-warning {\n            font-size: 14px;\n        }\n    }\n}\n\n.text-yesNo {\n    padding: 12px;\n    /deep/.title {\n        font-size: 12px;\n        color: #666666;\n        .icon-svg {\n            width: 11px;\n            height: 20px;\n            .b-icon-svg {\n                width: 11px;\n                height: 11px;\n            }\n        }\n    }\n    .b-icon-svg {\n        width: 11px;\n        height: 11px;\n        border-radius: 2px;\n        border: 1px solid #666666;\n        /deep/use {\n            display: none;\n        }\n        &.active {\n            /deep/use {\n                display: block;\n            }\n        }\n    }\n}\n</style>"]}]}