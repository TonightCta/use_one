{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/ad/AdvertisingForDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/ad/AdvertisingForDetails.vue","mtime":1658713050071},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IEFkdkRldGFpbCwgVHlwZXMsIFVwQWR2U3RhdHVzIH0gZnJvbSAiLi4vLi4vYXBpL2FwaSI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9vbDogewogICAgICAgIGNsb3NlVGhlQWQ6IGZhbHNlLAogICAgICB9LAogICAgICBzd2l0Y2hhOiAwLAogICAgICBuYW1lOiAidnVlIiwKICAgICAgdmFsOiAiIiwKICAgICAgZGV0YWlsTXNnOiB7fSwgLy/or6bmg4Xkv6Hmga8KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAodikgewogICAgICAgIHRoaXMudmFsID0gdjsKICAgICAgfSwKICAgIH0sCiAgICB2YWwodikgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHYpOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ2N1cnJlbnQnXSksCiAgICBhZHZJRCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5hZHZJRAogICAgfSwKICAgIGxpc3QoKSB7CiAgICAgIGNvbnN0IG1zZyA9IHRoaXMuZGV0YWlsTXNnOwogICAgICByZXR1cm4gWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5oC76YeR6aKdIiwKICAgICAgICAgIHZhbHVlOiBOdW1iZXIobXNnLm1heF9jdXJyZW5jeSkudG9GaXhlZCg0KSwKICAgICAgICAgIGJvcmRlcjogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuS7t+agvOexu+WeiyIsCiAgICAgICAgICB2YWx1ZTogbXNnLnByaWNlX3R5cGUgPT0gMSA/ICLlm7rlrprku7fmoLwiIDogIua1ruWKqOS7t+agvCIsCiAgICAgICAgICBib3JkZXI6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgLy8geyB0aXRsZTogIuS7t+agvOa6ouS7tyIsIHZhbHVlOiAiMTAlIiwgYm9yZGVyOiBmYWxzZSB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5aeU5omY5pWw6YePIiwKICAgICAgICAgIHZhbHVlOiBtc2cuYW1vdW50LAogICAgICAgICAgZXh0cmE6IG1zZy5jb2luLAogICAgICAgICAgYm9yZGVyOiBmYWxzZSwKICAgICAgICAgIHN0eWxlOiB7ICJtYXJnaW4tdG9wIjogIjIwcHgiIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWJqeS9meaVsOmHjyIsCiAgICAgICAgICB2YWx1ZTogbXNnLmFtb3VudF9zdG9jaywKICAgICAgICAgIGV4dHJhOiBtc2cuY29pbiwKICAgICAgICAgIGJvcmRlcjogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWNleeslOmZkOminSIsCiAgICAgICAgICB2YWx1ZToKICAgICAgICAgICAgTnVtYmVyKG1zZy5taW5fY3VycmVuY3kpLnRvRml4ZWQoMikgKwogICAgICAgICAgICAiLSIgKwogICAgICAgICAgICBOdW1iZXIobXNnLm1heF9jdXJyZW5jeSkudG9GaXhlZCgyKSwKICAgICAgICAgIGV4dHJhOiBtc2cuY3VycmVuY3ksCiAgICAgICAgICBib3JkZXI6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgeyB0aXRsZTogIuaUtuasvuaWueW8jyIsIGJvcmRlcjogZmFsc2UgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWPkeW4g+aXtumXtCIsCiAgICAgICAgICB2YWx1ZTogbXNnLnRpbWUsCiAgICAgICAgICBleHRyYTogIiIsCiAgICAgICAgICBib3JkZXI6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLorqLljZXorrDlvZUiLAogICAgICAgICAgdmFsdWU6IG1zZy5vcmRlcnNfY291bnQsCiAgICAgICAgICBpc2xpbms6IHRydWUsCiAgICAgICAgICBib3JkZXI6IGZhbHNlLAogICAgICAgICAgc3R5bGU6IHsgIm1hcmdpbi10b3AiOiAiMjBweCIgfSwKICAgICAgICB9LAogICAgICBdOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEFkdkRldGFpbCgpOwogIH0sCiAgbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W5bm/5ZGK6K+m5oOFCiAgICBhc3luYyBnZXRBZHZEZXRhaWwoKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEFkdkRldGFpbCh0aGlzLmFkdklEKTsKICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgdGhpcy5kZXRhaWxNc2cgPSByZXN1bHQuZGF0YTsKICAgICAgdGhpcy5zd2l0Y2hhID0gdGhpcy5kZXRhaWxNc2cuc3RhdHVzID09IDEgPyAxIDogMDsKICAgICAgY29uc3QgdHlwZXMgPSBhd2FpdCBUeXBlcyh7IHNjZW5lOiAiQWRzU3RhdHVzIiB9KTsKICAgICAgY29uc29sZS5sb2codHlwZXMpOwogICAgICB0eXBlcy5kYXRhLm1hcC5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuZGV0YWlsTXNnLnN0YXR1cyA9PSBlLnZhbCkgewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZGV0YWlsTXNnLCAic3RhdHVzX3RleHQiLCBlLm5hbWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2h1dERvd24oKSB7CiAgICAgIHRoaXMuYm9vbC5jbG9zZVRoZUFkID0gdHJ1ZTsKICAgIH0sCiAgICAvL+WFs+mXreW5v+WRigogICAgYXN5bmMgY2xvc2VBZHYoKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVwQWR2U3RhdHVzKHsgaWQ6IHRoaXMuZGV0YWlsTXNnLmlkLCBzdGF0dXM6IDMgfSk7CiAgICAgIGNvbnN0IHsgY29kZSB9ID0gcmVzdWx0OwogICAgICBpZiAoY29kZSAhPSAyMDApIHsKICAgICAgICB0aGlzLiR0b2FzdChyZXN1bHQubWVzc2FnZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJHRvYXN0KCLlhbPpl63miJDlip8iKTsKICAgICAgdGhpcy5nZXRBZHZEZXRhaWwoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["AdvertisingForDetails.vue"],"names":[],"mappings":";AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdvertisingForDetails.vue","sourceRoot":"src/views/ad","sourcesContent":["<!--\n * @Name: 广告详情\n * @Date: 2022-06-30 17:02:37\n * @LastEditors: VSCode\n * @LastEditTime: 2022-07-07 17:53:19\n-->\n<template>\n  <P-main>\n    <Navigation title=\"广告详情\" :editor-switch=\"true\" />\n    <div class=\"head ui-flex-lh\">\n      <div class=\"ui-flex-center\">\n        <div class=\"ui-flex-row\">\n          <div class=\"h4\">{{ detailMsg.adv_type == 2 ? \"购买\" : \"出售\" }}</div>\n          <div class=\"size-18\">\n            <mt-spinner\n              v-if=\"!detailMsg.coin\"\n              type=\"triple-bounce\"\n              color=\"white\"\n            ></mt-spinner>\n            <span v-else>{{ detailMsg.coin }}</span>\n          </div>\n          <span class=\"iconfont icon-qiehuan m-5-lr\"></span>\n          <div class=\"size-18\">\n            <mt-spinner\n              v-if=\"!detailMsg.currency\"\n              type=\"triple-bounce\"\n              color=\"white\"\n            ></mt-spinner>\n            <span v-else>{{ detailMsg.currency }}</span>\n          </div>\n        </div>\n        <div class=\"size-14\">{{ detailMsg.status_text }}</div>\n      </div>\n      <div class=\"ui-flex-center\">\n        <div class=\"ui-flex-left size-12\">\n          <div class=\"m-5-r\">广告编号</div>\n          <ul class=\"ui-list ui-list-hx\">\n            <li>{{ detailMsg.adv_sn }}</li>\n            <li>\n              <P-copy :value=\"detailMsg.adv_sn\">\n                <B-svg name=\"copy-1\" class-name=\"copy\"></B-svg>\n              </P-copy>\n            </li>\n          </ul>\n        </div>\n        <B-switch\n          v-model=\"switcha\"\n          v-if=\"detailMsg.status == 1 || detailMsg.status == 2\"\n          open=\"OFF\"\n          close=\"ON\"\n          trueColor=\"#0A8F6A\"\n          falseColor=\"#0A8F6A\"\n        />\n      </div>\n    </div>\n    <div class=\"body\">\n      <P-cell :list=\"list\" theme=\"cell\" class=\"p-5-t\">\n        <template #value_0=\"scope\">\n          <div class=\"theAmountOf\">\n            <div class=\"fh\">\n              {{ detailMsg.currency_symbol }}\n            </div>\n            <div class=\"jg\">\n              <mt-spinner\n                v-if=\"!detailMsg.currency\"\n                type=\"triple-bounce\"\n                color=\"#2CBC94\"\n              ></mt-spinner>\n              <span v-else>{{ scope.row.value }}</span>\n            </div>\n          </div>\n        </template>\n        <template #value_5=\"scope\">\n          <span v-if=\"false\">{{ scope }}</span>\n          <Pay-way />\n        </template>\n        <template #value_7=\"scope\">\n          <span v-if=\"false\">{{ scope }}</span>\n          <B-a\n            @click.native=\"\n              $router.push('/adv-detail-log')\n            \"\n            class=\"orderRecord\"\n            >{{ scope.row.value }}单</B-a\n          >\n        </template>\n      </P-cell>\n      <div class=\"Footer ui-flex\">\n        <div class=\"ui-flex-1\">\n          <P-button\n            type=\"danger\"\n            plain\n            class=\"w-100-b btn-danger\"\n            @click=\"shutDown\"\n            >关闭广告</P-button\n          >\n        </div>\n        <div\n          class=\"ui-flex-1 m-10-l\"\n          @click=\"\n            $router.push({\n              path: '/release',\n              query: {\n                id: detailMsg.id,\n              },\n            })\n          \"\n        >\n          <P-button type=\"default\" plain class=\"w-100-b btn-default\"\n            >修改</P-button\n          >\n        </div>\n      </div>\n    </div>\n    <Alert\n      type=\"typography\"\n      @click=\"closeAdv\"\n      v-model=\"bool.closeTheAd\"\n      title=\"确认关闭广告?\"\n    >\n      关闭后该广告无法再次开启，进行中的订单不受影响。\n    </Alert>\n  </P-main>\n</template>\n\n<script>\nimport { AdvDetail, Types, UpAdvStatus } from \"../../api/api\";\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      bool: {\n        closeTheAd: false,\n      },\n      switcha: 0,\n      name: \"vue\",\n      val: \"\",\n      detailMsg: {}, //详情信息\n    };\n  },\n  watch: {\n    value: {\n      deep: true,\n      immediate: true,\n      handler: function (v) {\n        this.val = v;\n      },\n    },\n    val(v) {\n      this.$emit(\"input\", v);\n    },\n  },\n  computed: {\n    ...mapState(['current']),\n    advID() {\n      return this.current.advID\n    },\n    list() {\n      const msg = this.detailMsg;\n      return [\n        {\n          title: \"总金额\",\n          value: Number(msg.max_currency).toFixed(4),\n          border: false,\n        },\n        {\n          title: \"价格类型\",\n          value: msg.price_type == 1 ? \"固定价格\" : \"浮动价格\",\n          border: false,\n        },\n        // { title: \"价格溢价\", value: \"10%\", border: false },\n        {\n          title: \"委托数量\",\n          value: msg.amount,\n          extra: msg.coin,\n          border: false,\n          style: { \"margin-top\": \"20px\" },\n        },\n        {\n          title: \"剩余数量\",\n          value: msg.amount_stock,\n          extra: msg.coin,\n          border: false,\n        },\n        {\n          title: \"单笔限额\",\n          value:\n            Number(msg.min_currency).toFixed(2) +\n            \"-\" +\n            Number(msg.max_currency).toFixed(2),\n          extra: msg.currency,\n          border: false,\n        },\n        { title: \"收款方式\", border: false },\n        {\n          title: \"发布时间\",\n          value: msg.time,\n          extra: \"\",\n          border: false,\n        },\n        {\n          title: \"订单记录\",\n          value: msg.orders_count,\n          islink: true,\n          border: false,\n          style: { \"margin-top\": \"20px\" },\n        },\n      ];\n    },\n  },\n  created() {\n    this.getAdvDetail();\n  },\n  mounted() {},\n  methods: {\n    //获取广告详情\n    async getAdvDetail() {\n      const result = await AdvDetail(this.advID);\n      console.log(result);\n      this.detailMsg = result.data;\n      this.switcha = this.detailMsg.status == 1 ? 1 : 0;\n      const types = await Types({ scene: \"AdsStatus\" });\n      console.log(types);\n      types.data.map.forEach((e) => {\n        if (this.detailMsg.status == e.val) {\n          this.$set(this.detailMsg, \"status_text\", e.name);\n        }\n      });\n    },\n    shutDown() {\n      this.bool.closeTheAd = true;\n    },\n    //关闭广告\n    async closeAdv() {\n      const result = await UpAdvStatus({ id: this.detailMsg.id, status: 3 });\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$toast(\"关闭成功\");\n      this.getAdvDetail();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.head {\n  height: 98px;\n  padding: 0px 12px;\n  color: #ffffff;\n  background: #2cbc94;\n  .h4 {\n    padding-left: 0px;\n    padding-right: 5px;\n    font-size: 17px;\n    font-weight: 500;\n    color: #ffffff;\n    &:before {\n      width: 2px;\n      height: 10px;\n      margin-top: 1px;\n      background: #ffffff;\n    }\n  }\n  .copy {\n    width: 17px;\n    height: 17px;\n  }\n  .ui-list-hx {\n    li:after {\n      background: #ffffff;\n    }\n  }\n  /deep/.ivu-switch {\n    &.ivu-switch-large {\n      transform: scale(0.7);\n      margin-right: -11px;\n      height: 28px;\n      line-height: 28px;\n      border-radius: 22px;\n    }\n    &:after {\n      top: 4px;\n    }\n  }\n}\n\n.body {\n  .orderRecord {\n    font-size: 14px;\n    font-weight: 500;\n    color: #6580ff;\n  }\n}\n</style>"]}]}