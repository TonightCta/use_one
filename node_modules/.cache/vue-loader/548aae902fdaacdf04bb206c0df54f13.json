{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/ad/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/ad/index.vue","mtime":1658299597815},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBZHZlcnRpc2luZ0xpc3QgZnJvbSAiQC9jb21wb25lbnRzL2FkdmVydGlzaW5nLWxpc3QiOwppbXBvcnQgU2NyZWVuaW5nIGZyb20gIi4vY29tcG9uZW50cy9zY3JlZW5pbmciOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFkdmVydGlzaW5nTGlzdCwKICAgIFNjcmVlbmluZywKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29sOiB7CiAgICAgICAgU2NyZWVuaW5nQ2xhc3M6IGZhbHNlLAogICAgICAgIFNjcmVlbmluZzogZmFsc2UsCiAgICAgICAgU2NyZWVuaW5nQm9vbDogdHJ1ZSwKICAgICAgICBtb3JlQW5kTW9yZTogZmFsc2UsCiAgICAgICAgY2xvc2VUaGVBZDogZmFsc2UsCiAgICAgIH0sCiAgICAgIHNlbGVjdDogW3sgbmFtZTogIuS/ruaUuSIgfSwgeyBuYW1lOiAi5YWz6Zet5bm/5ZGKIiwgY29sb3I6ICIjRkQ1NjU2IiB9XSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgImJvb2wuU2NyZWVuaW5nIih2KSB7CiAgICAgIGlmICghdikgewogICAgICAgIHRoaXMub3BlblNjcmVlbmluZyhmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDoge30sCiAgY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBvcGVuU2NyZWVuaW5nKGJvb2wpIHsKICAgICAgaWYgKHRoaXMuYm9vbC5TY3JlZW5pbmdCb29sKSB7CiAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0Jvb2wgPSBmYWxzZTsKICAgICAgICBpZiAodGhpcy5ib29sLlNjcmVlbmluZ0NsYXNzKSB7CiAgICAgICAgICBpZiAoYm9vbCkgewogICAgICAgICAgICB0aGlzLmJvb2wuU2NyZWVuaW5nID0gIXRoaXMuYm9vbC5TY3JlZW5pbmc7CiAgICAgICAgICB9CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0NsYXNzID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuYm9vbC5TY3JlZW5pbmdCb29sID0gdHJ1ZTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYm9vbC5TY3JlZW5pbmdDbGFzcyA9IHRydWU7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgaWYgKGJvb2wpIHsKICAgICAgICAgICAgICB0aGlzLmJvb2wuU2NyZWVuaW5nID0gIXRoaXMuYm9vbC5TY3JlZW5pbmc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5ib29sLlNjcmVlbmluZ0Jvb2wgPSB0cnVlOwogICAgICAgICAgfSwgNTApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9wZXJhdGlvbihyb3cpIHsKICAgICAgdGhpcy5ib29sLm1vcmVBbmRNb3JlID0gdHJ1ZTsKICAgIH0sCiAgICBtb3JlT3BlcmF0aW9ucyhhY3Rpb24sIGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PT0gMSkgewogICAgICAgIHRoaXMuYm9vbC5jbG9zZVRoZUFkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIG9uTGlzdCgpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBUEkuR2V0RGF0YSh0aGlzLCAiYXBpL2xpc3QiKTsKICAgICAgY29uc3QgeyBjb2RlLCBpdGVtcywgdG90YWwgfSA9IHJlc3BvbnNlOwogICAgICBpZiAoY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLiRyZWZzWyJQLWxpc3QiXS5BZGQoaXRlbXMsIHRvdGFsKTsKICAgICAgfQogICAgfSwKICAgIG9uUmVmcmVzaCgpIHsKICAgICAgdGhpcy5vbkxpc3QoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ad","sourcesContent":["<template>\n  <P-main>\n    <Navigation\n      title=\"我的广告\"\n      :left-arrow=\"false\"\n      :class=\"[bool.ScreeningClass ? 'navigation' : '']\"\n    >\n      <template #right>\n        <B-svg name=\"shaixuan\" @click=\"openScreening(true)\" />\n      </template>\n    </Navigation>\n    <P-body type=\"Fei\">\n      <P-list\n        ref=\"P-list\"\n        :footer=\"true\"\n        theme=\"card\"\n        @refresh=\"onRefresh\"\n        @load=\"onList\"\n      >\n        <template v-slot=\"{ row }\">\n          <B-a :href=\"`/advertisingfordetails/${row.id}`\">\n            <Advertising-list\n              :name=\"row.name\"\n              :Price=\"row.Price\"\n              :badge=\"row.number\"\n              :date=\"row.datetime\"\n              :state=\"row.number\"\n              @operation=\"operation(row)\"\n            />\n          </B-a>\n        </template>\n      </P-list>\n    </P-body>\n    <Screening v-model=\"bool.Screening\" />\n    <P-select\n      v-model=\"bool.moreAndMore\"\n      :list=\"select\"\n      cancelText=\"取消\"\n      @select=\"moreOperations\"\n    />\n    <Alert type=\"typography\" v-model=\"bool.closeTheAd\" title=\"确认关闭广告?\">\n      若您已向卖家付款，请勿取消订单，否则可能会导致资金损失。若当日取消超过3次将会禁止交易。\n    </Alert>\n    <P-suspension-add href=\"/release\" />\n  </P-main>\n</template>\n\n<script>\nimport AdvertisingList from \"@/components/advertising-list\";\nimport Screening from \"./components/screening\";\n\nexport default {\n  components: {\n    AdvertisingList,\n    Screening,\n  },\n  data() {\n    return {\n      bool: {\n        ScreeningClass: false,\n        Screening: false,\n        ScreeningBool: true,\n        moreAndMore: false,\n        closeTheAd: false,\n      },\n      select: [{ name: \"修改\" }, { name: \"关闭广告\", color: \"#FD5656\" }],\n    };\n  },\n  watch: {\n    \"bool.Screening\"(v) {\n      if (!v) {\n        this.openScreening(false);\n      }\n    },\n  },\n  computed: {},\n  created() {},\n  mounted() {},\n  methods: {\n    openScreening(bool) {\n      if (this.bool.ScreeningBool) {\n        this.bool.ScreeningBool = false;\n        if (this.bool.ScreeningClass) {\n          if (bool) {\n            this.bool.Screening = !this.bool.Screening;\n          }\n          setTimeout(() => {\n            this.bool.ScreeningClass = false;\n            this.bool.ScreeningBool = true;\n          }, 500);\n        } else {\n          this.bool.ScreeningClass = true;\n          setTimeout(() => {\n            if (bool) {\n              this.bool.Screening = !this.bool.Screening;\n            }\n            this.bool.ScreeningBool = true;\n          }, 50);\n        }\n      }\n    },\n    operation(row) {\n      this.bool.moreAndMore = true;\n    },\n    moreOperations(action, index) {\n      if (index === 1) {\n        this.bool.closeTheAd = true;\n      }\n    },\n    async onList() {\n      const response = await API.GetData(this, \"api/list\");\n      const { code, items, total } = response;\n      if (code == 200) {\n        this.$refs[\"P-list\"].Add(items, total);\n      }\n    },\n    onRefresh() {\n      this.onList();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.navigation {\n  /deep/.van-nav-bar {\n    z-index: 9999;\n  }\n}\n</style>"]}]}