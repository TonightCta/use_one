{"remainingRequest":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/tql_yy/Documents/code/use_one/src/views/chant/components/step_three.vue?vue&type=style&index=0&id=d1a19f26&lang=less&scoped=true&","dependencies":[{"path":"/Users/tql_yy/Documents/code/use_one/src/views/chant/components/step_three.vue","mtime":1658312858683},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js","mtime":1657523213663},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tql_yy/Documents/code/use_one/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgdXJsKCIuL3N0ZXAubGVzcyIpOwouc3RlcC1jb250ZW50IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0OHB4IC0gMTU2cHggLSA0OHB4KTsKfQouY29udGVudC1tc2cgewogIHBhZGRpbmc6IDEwcHggMTJweCAhaW1wb3J0YW50OwogIC5tc2ctdGl0bGUgewogICAgY29sb3I6ICMzMzM7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbi1ib3R0b206IDhweDsKICB9CiAgcCB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBjb2xvcjogIzk5OTk5OTsKICB9CiAgLnVwLXBpYyB7CiAgICB1bCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICBsaSB7CiAgICAgICAgd2lkdGg6IDQ3JTsKICAgICAgICBoZWlnaHQ6IDEwOHB4OwogICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZDhkYmU0OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4OwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBwIHsKICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgIG1hcmdpbi10b3A6IDhweDsKICAgICAgICAgIGNvbG9yOiAjYzNjYWQyOwogICAgICAgIH0KICAgICAgICAudXAtaWNvbiB7CiAgICAgICAgICB3aWR0aDogNDRweDsKICAgICAgICAgIGhlaWdodDogNDRweDsKICAgICAgICB9CiAgICAgICAgLnVwLWltZyB7CiAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICB9CiAgICAgICAgaW5wdXQgewogICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgIHotaW5kZXg6IDIwMDsKICAgICAgICB9CiAgICAgICAgLnJlLXVwIHsKICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgIHotaW5kZXg6IDEwMDsKICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjYpOwogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICBwIHsKICAgICAgICAgICAgLy8gZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7CiAgICAgICAgICB9CiAgICAgICAgICBwOmxhc3QtY2hpbGQgewogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMnB4KTsKICAgICAgICAgIH0KICAgICAgICAgIC5pY29uZm9udCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMzJweDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVsOjphZnRlciB7CiAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICB9CiAgICB1bDo6YmVmb3JlIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0KICB9Cn0KLmJ0bi1ib3ggewogIGRpc3BsYXk6IGZsZXg7CiAgLmRlZmF1bHQtYnRuIHsKICAgIHdpZHRoOiA0MCU7CiAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7CiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmICFpbXBvcnRhbnQ7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTZlNmU2OwogICAgY29sb3I6ICM5OTk5OTk7CiAgfQp9Cg=="},{"version":3,"sources":["step_three.vue"],"names":[],"mappings":";AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"step_three.vue","sourceRoot":"src/views/chant/components","sourcesContent":["<!-- 视频证明 -->\n<template>\n  <div class=\"stwp-two step-public\">\n    <p class=\"step-title\">身份证明</p>\n    <div class=\"step-content\">\n      <div class=\"content-msg\">\n        <p class=\"msg-title\">请上传身份证照片</p>\n        <div class=\"up-pic\">\n          <ul>\n            <li v-for=\"(pic, index) in picList\" :key=\"index\">\n              <img\n                v-if=\"!pic.imgSrc\"\n                :src=\"require('../../../assets/images/up_pic.png')\"\n                class=\"up-icon\"\n                alt=\"\"\n              />\n              <p v-if=\"!pic.imgSrc\">{{ pic.title }}</p>\n              <img :src=\"pic.imgSrc\" v-if=\"pic.imgSrc\" class=\"up-img\" alt=\"\" />\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                @change=\"test($event, index)\"\n              />\n              <div class=\"re-up\" v-if=\"pic.imgSrc\">\n                <p class=\"iconfont icon-shangchuan-copy\"></p>\n                <p>重新上传</p>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <p class=\"msg-remark\">\n          *拍摄时，手持身份证人像面，将持证的手臂和上身整个拍进照片，脸部、身份证上所有信息清晰且不能被遮挡。\n        </p>\n        <p class=\"msg-remark\">*仅支持 .jpg/.jpeg/.png格式</p>\n      </div>\n      <div class=\"content-btn\">\n        <div class=\"btn-label\"></div>\n        <div class=\"btn-box\">\n          <P-button\n            type=\"primary\"\n            class=\"btn-primary default-btn\"\n            @click=\"$emit('upStep', 0)\"\n            >上一步</P-button\n          >\n          <P-button type=\"primary\" class=\"btn-primary\" @click=\"submitStepTwo\"\n            >下一步</P-button\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ChantStepTwo } from \"../../../api/api\";\nexport default {\n  data() {\n    return {\n      picList: [\n        {\n          title: \"上传身份证人像面\",\n          file: \"\",\n          imgSrc: null,\n        },\n        {\n          title: \"上传身份证国徽面\",\n          file: \"\",\n          imgSrc: null,\n        },\n        {\n          title: \"上传手持身份证\",\n          file: \"\",\n          imgSrc: null,\n        },\n      ],\n    };\n  },\n  methods: {\n    test($e, index) {\n      console.log($e.target.files[0]);\n      const file = $e.target.files[0];\n      let imgSrc;\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n      fileReader.onload = (temp) => {\n        imgSrc = temp.target.result;\n        console.log(imgSrc);\n        this.$set(this.picList[index], \"file\", file);\n        this.$set(this.picList[index], \"imgSrc\", imgSrc);\n      };\n\n      console.log(this.picList);\n    },\n    //上传身份文件\n    async submitStepTwo() {\n    //   console.log(213);\n    //   this.picList.forEach((e) => {\n    //     if (!e.file) {\n    //       this.$toast(\"请上传身份文件\");\n    //       return;\n    //     }\n    //   });\n      if (!this.picList[0].file) {\n        this.$toast(\"请上传身份证人像面\");\n        return;\n      }\n      if (!this.picList[1].file) {\n        this.$toast(\"请上传身份证国徽面\");\n        return;\n      }\n      if (!this.picList[2].file) {\n        this.$toast(\"请上传手持身份证\");\n        return;\n      };\n      this.$toast.loading({\n        message:'加载中...',\n        forbidClick:true\n      })\n      const formdata = new FormData();\n      formdata.append(\"card_front\", this.picList[0].file);\n      formdata.append(\"card_back\", this.picList[1].file);\n      formdata.append(\"card_hand\", this.picList[2].file);\n      const result = await ChantStepTwo(formdata);\n      const { code } = result;\n      if (code != 200) {\n        this.$toast(result.message);\n        return;\n      }\n      this.$emit(\"upStep\", 2);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"./step.less\");\n.step-content {\n  width: 100%;\n  height: calc(100vh - 48px - 156px - 48px);\n}\n.content-msg {\n  padding: 10px 12px !important;\n  .msg-title {\n    color: #333;\n    font-weight: bold;\n    margin-bottom: 8px;\n  }\n  p {\n    font-size: 14px;\n    color: #999999;\n  }\n  .up-pic {\n    ul {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-between;\n      li {\n        width: 47%;\n        height: 108px;\n        border: 1px dashed #d8dbe4;\n        border-radius: 4px;\n        margin-bottom: 12px;\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        p {\n          font-size: 14px;\n          margin-top: 8px;\n          color: #c3cad2;\n        }\n        .up-icon {\n          width: 44px;\n          height: 44px;\n        }\n        .up-img {\n          width: 100%;\n          height: 100%;\n        }\n        input {\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          opacity: 0;\n          z-index: 200;\n        }\n        .re-up {\n          position: absolute;\n          z-index: 100;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.6);\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          p {\n            // font-weight: bold;\n            color: rgba(255, 255, 255, 0.8);\n          }\n          p:last-child {\n            color: white;\n            font-size: 12px;\n            transform: translateY(-12px);\n          }\n          .iconfont {\n            font-size: 32px;\n          }\n        }\n      }\n    }\n    ul::after {\n      display: none;\n    }\n    ul::before {\n      display: none;\n    }\n  }\n}\n.btn-box {\n  display: flex;\n  .default-btn {\n    width: 40%;\n    margin-right: 16px;\n    background: #ffffff !important;\n    border: 1px solid #e6e6e6;\n    color: #999999;\n  }\n}\n</style>"]}]}